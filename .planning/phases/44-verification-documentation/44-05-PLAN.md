---
phase: 44-verification-documentation
plan: 05
type: execute
wave: 2
depends_on: []
files_modified:
  - docs/components.md
  - docs/usage-guidelines.md
  - docs/accessibility.md
autonomous: true

must_haves:
  truths:
    - "Every UI component has API documentation with props table, variants, and at least one example"
    - "Usage guidelines explain when to use and when NOT to use each component"
    - "Accessibility requirements documented per component (color contrast scope only)"
  artifacts:
    - path: "docs/components.md"
      provides: "Complete component API documentation with props, variants, examples"
    - path: "docs/usage-guidelines.md"
      provides: "Usage guidelines for every component with do's and don'ts"
    - path: "docs/accessibility.md"
      provides: "Accessibility requirements per component (contrast-focused)"
  key_links:
    - from: "docs/components.md"
      to: "src/components/ui/"
      via: "Documents props interfaces from each component file"
      pattern: "Props"
---

<objective>
Write component API documentation, usage guidelines, and accessibility requirements.

Purpose: DOC-02 (component API docs), DOC-03 (usage guidelines), DOC-04 (accessibility requirements). These are the core developer-facing documentation files that explain how to use each component correctly.

Output: Three docs/ files covering API, usage patterns, and accessibility.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/44-verification-documentation/44-RESEARCH.md
@src/components/ui/index.ts
@src/components/ui/button.tsx
@src/components/ui/card.tsx
@src/components/ui/input.tsx
@src/components/ui/select.tsx
@src/components/ui/dialog.tsx
@src/components/ui/toast.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Component API documentation</name>
  <files>docs/components.md</files>
  <action>
1. Create docs/components.md with API documentation for ALL components.

2. Use three documentation depth tiers (per research recommendation):

   **Full docs (9 components):** Button, Input, InputField, Select, SearchableSelect, Dialog, Toast, Card, GlassCard
   Each includes:
   - Description and purpose
   - Import statement
   - Props table (Prop | Type | Default | Description)
   - All variants with description
   - Usage example (TSX code snippet)
   - Subcomponents (if any — e.g., DialogTrigger, DialogContent)
   - Accessibility notes (aria attributes, keyboard behavior)
   - Do's and Don'ts (2-3 each)

   **Standard docs (10 components):** Badge, Toggle, Tabs, CategoryTabs, Avatar, AvatarGroup, Kbd, ShortcutBadge, ExtensionCard, TestimonialCard
   Each includes:
   - Description
   - Import statement
   - Props table
   - Key variants
   - One usage example

   **Brief docs (8 components):** Spinner, Icon, Skeleton, Divider, Heading, Text, Caption, Code
   Each includes:
   - Description
   - Import statement
   - Key props (inline, not full table)

3. Read each component source file to extract:
   - Props interface (exact types)
   - CVA variants (exact variant names and options)
   - Default values
   - JSDoc comments (if any)

4. Structure the document:
   ```markdown
   # Component API Reference

   > Complete API documentation for all Virtuna design system components.
   > Visual examples: [/showcase](/showcase)

   ## Table of Contents
   [Auto-generated from component list]

   ---

   ## Button
   [Full documentation...]

   ---

   ## Card
   [Full documentation...]

   ...
   ```

5. For compound components (Dialog, Tabs, Toast), document the parent and all subcomponents together in one section.

6. Include a note about the default variant convention: Button default is `secondary` (not primary) — matches Raycast sparse accent usage.
  </action>
  <verify>
    - `wc -l docs/components.md` > 300 lines
    - All 9 Full-tier components have props tables and examples
    - All 10 Standard-tier components have props tables
    - All 8 Brief-tier components are documented
  </verify>
  <done>Component API documentation complete at docs/components.md covering all 27 components at appropriate depth.</done>
</task>

<task type="auto">
  <name>Task 2: Usage guidelines and accessibility docs</name>
  <files>
    docs/usage-guidelines.md
    docs/accessibility.md
  </files>
  <action>
1. Create docs/usage-guidelines.md with:

   ```markdown
   # Usage Guidelines

   > When to use each component and common patterns

   ## General Principles
   - Dark-mode first: all components designed for dark backgrounds
   - Token-based: never hardcode colors, spacing, or shadows
   - Server-first: use server components by default, client only for interactivity
   - Semantic HTML: use correct elements (button for actions, a for navigation)

   ## Component Guidelines

   ### Button
   **Use when:** User needs to trigger an action
   **Don't use when:** Navigating to a new page (use Link instead)
   **Variant guidance:**
   - `secondary` (default): Most buttons — form submits, toggles, minor actions
   - `primary`: Main CTA only — one per section maximum
   - `ghost`: Toolbar actions, icon-only buttons, inline actions
   - `destructive`: Delete, remove, cancel (destructive operations only)
   **Common patterns:**
   - Button group: flex gap-2, all same size
   - Loading state: Set loading={true} during async operations
   - Icon button: Use ghost variant with size="sm"

   ### Card / GlassCard
   **Use Card when:** Content grouping on solid backgrounds
   **Use GlassCard when:** Content needs glassmorphism effect over gradient/image backgrounds
   ...

   [Continue for each component category]
   ```

2. For each component, provide:
   - When to use (positive guidance)
   - When NOT to use (with alternative)
   - Variant selection guidance (which variant for which situation)
   - Common composition patterns (how components work together)

3. Group by category: Interactive, Display, Typography, Feedback, Layout, Motion, Effects

4. Create docs/accessibility.md with:

   ```markdown
   # Accessibility Requirements

   > Color contrast requirements per component (WCAG 2.1 AA)
   > Scope: color contrast only — keyboard nav and screen reader auditing deferred

   ## Standard
   - Normal text: 4.5:1 minimum contrast ratio
   - Large text (>=24px or >=18.66px bold): 3:1 minimum
   - UI components and graphical objects: 3:1 minimum against adjacent colors

   ## Per-Component Requirements

   ### Button
   - Text on all variant backgrounds must meet 4.5:1
   - Primary (coral): white text on coral-500 — verify ratio
   - Secondary: foreground on surface — verify ratio
   - Ghost: foreground on transparent (inherits page bg) — verify ratio
   - Destructive: white on error — verify ratio
   - Focus ring: must be visible (2px accent ring)

   ### Input
   - Placeholder text: foreground-muted on surface — may be below 4.5:1 (acceptable for placeholder per WCAG)
   - Label text: foreground on background — must meet 4.5:1
   - Error text: error on background — must meet 4.5:1
   - Border: border on surface — must meet 3:1 (UI component)

   [Continue for each interactive/display component]

   ## Cross-Reference
   Link to verification/reports/contrast-audit.md for actual measured values.
   ```

5. Reference the contrast audit report (from Plan 01) for actual measured ratios.
  </action>
  <verify>
    - `cat docs/usage-guidelines.md` has guidance for each component category
    - `cat docs/accessibility.md` has per-component contrast requirements
    - Accessibility doc references contrast audit report
    - Usage guidelines include do's and don'ts
  </verify>
  <done>Usage guidelines and accessibility requirements documented for all components.</done>
</task>

</tasks>

<verification>
- docs/components.md has API docs for all components at appropriate depth
- docs/usage-guidelines.md has per-component usage guidance
- docs/accessibility.md has per-component contrast requirements
- No component code modified
</verification>

<success_criteria>
- A developer unfamiliar with the system can look up any component and know: what it does, its props, when to use it, and its accessibility requirements
- Documentation is accurate to current component implementations (read from source)
- Three depth tiers applied consistently (Full, Standard, Brief)
</success_criteria>

<output>
After completion, create `.planning/phases/44-verification-documentation/44-05-SUMMARY.md`
</output>
