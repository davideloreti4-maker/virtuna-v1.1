---
phase: 44-verification-documentation
plan: 06
type: execute
wave: 3
depends_on: ["44-03", "44-05"]
files_modified:
  - BRAND-BIBLE.md
  - docs/motion-guidelines.md
  - docs/design-specs.json
  - docs/contributing.md
autonomous: true

must_haves:
  truths:
    - "BRAND-BIBLE.md is a complete brand guide covering tokens, components, color usage, and design philosophy"
    - "Motion guidelines document all animation patterns with when-to-use guidance"
    - "Design specs exported as structured JSON for potential Figma translation"
    - "Contributing guide documents naming conventions, file patterns, and how to extend the system"
  artifacts:
    - path: "BRAND-BIBLE.md"
      provides: "Complete brand guide at repo root"
    - path: "docs/motion-guidelines.md"
      provides: "Animation and motion pattern documentation"
    - path: "docs/design-specs.json"
      provides: "Structured token export in W3C Design Tokens-adjacent format"
    - path: "docs/contributing.md"
      provides: "Contribution guide for extending the design system"
  key_links:
    - from: "BRAND-BIBLE.md"
      to: "docs/"
      via: "Links to detailed docs for deep dives"
      pattern: "docs/"
---

<objective>
Create BRAND-BIBLE.md, motion guidelines, design specs export, and contribution guide.

Purpose: DOC-05 (BRAND-BIBLE.md), DOC-06 (motion guidelines), DOC-07 (Figma-ready design specs), plus a contribution guide per CONTEXT.md request. These are the final documentation deliverables that tie the entire system together.

Output: BRAND-BIBLE.md at repo root, plus three docs/ files.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/44-verification-documentation/44-RESEARCH.md
@.planning/phases/44-verification-documentation/44-03-SUMMARY.md
@.planning/phases/44-verification-documentation/44-05-SUMMARY.md
@docs/tokens.md
@docs/components.md
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: BRAND-BIBLE.md + contributing guide</name>
  <files>
    BRAND-BIBLE.md
    docs/contributing.md
  </files>
  <action>
1. Create BRAND-BIBLE.md at repo root. This is the single entry point for the entire design system. Structure:

   ```markdown
   # Virtuna Brand Bible

   > Complete design system reference for Virtuna v2.0

   ## Brand Identity

   ### Core Color
   - **Coral (#FF7F50)** — Primary brand color
   - Replaces Raycast's accent red (#ff6363) throughout
   - Used sparingly: main CTAs, active states, key highlights
   - Everything else matches the Raycast design language 1:1

   ### Design Philosophy
   - Dark-mode first
   - Glass-forward: glassmorphism as a core visual language
   - Subtle and professional: sparse use of accent color
   - Performance-conscious: reduced motion support throughout

   ## Color System

   ### Usage Rules
   1. **Coral** — Use for: primary buttons, active tab indicators, key CTAs, accent highlights
      - DO: One coral element per section (the star of the show)
      - DON'T: Use coral for backgrounds, borders, or secondary elements
   2. **Gray scale** — Use for: backgrounds, surfaces, text, borders
      - Primary text: gray-100 (foreground)
      - Secondary text: gray-400 (foreground-secondary)
      - Muted text: gray-500 (foreground-muted)
      - Surfaces: gray-900 (surface), gray-850 (surface-elevated)
   3. **Status colors** — Use for: success (green), warning (amber), error (red), info (blue)
      - Only for semantic meaning, never decorative

   ### Color Tokens
   [Summary table with link to docs/tokens.md for complete reference]

   ## Typography
   - Font: Satoshi (400/500/700)
   - Display: Funnel Display
   - Scale: 12px to 64px (text-xs to text-display)
   [Summary with link to docs/tokens.md]

   ## Spacing & Layout
   - 4px base unit
   - Scale: 0, 4, 8, 12, 16, 20, 24, 32, 40, 48, 64, 80, 96
   [Summary with link to docs/tokens.md]

   ## Components
   [Brief overview with link to docs/components.md and docs/component-index.md]

   ### Component Hierarchy
   - **Primary components:** Button, Card, Input — the foundation
   - **Composite components:** Dialog, Toast, Select — built from primitives
   - **Raycast patterns:** ExtensionCard, CategoryTabs, Kbd — domain-specific
   - **Effects:** GlassPanel, NoiseTexture, ChromaticAberration — visual enhancement

   ## Motion & Animation
   [Brief overview with link to docs/motion-guidelines.md]

   ## Glassmorphism
   - Blur levels: none, xs (4px), sm (8px), md (12px), lg (20px), xl (30px), 2xl (40px)
   - Use contexts: xs=feature frames, sm=tooltips, md=cards, lg=footer, xl=windows, 2xl=action bars
   - Mobile: reduced blur for performance (md+ variants get 50% reduction below 768px)

   ## Do's and Don'ts

   ### Do
   - Use semantic tokens (--color-foreground, not --color-gray-100)
   - Use the token system for all values (no hardcoded hex/rgb in components)
   - Default Button to secondary variant (primary is special)
   - Use server components by default
   - Support prefers-reduced-motion

   ### Don't
   - Use coral for more than one element per section
   - Hardcode color values in component code
   - Use oklch in @theme for very dark colors (Tailwind v4 compilation issue)
   - Skip glass effects where the design calls for them
   - Reference "Raycast" in any user-facing content

   ## Resources
   - [Token Reference](docs/tokens.md)
   - [Component API](docs/components.md)
   - [Component Index](docs/component-index.md)
   - [Usage Guidelines](docs/usage-guidelines.md)
   - [Accessibility](docs/accessibility.md)
   - [Motion Guidelines](docs/motion-guidelines.md)
   - [Contributing](docs/contributing.md)
   - [Design Specs](docs/design-specs.json)
   - [Live Showcase](/showcase)

   ## Internal Notes
   This design system is based on Raycast's design language (raycast.com) with coral (#FF7F50) branding. The Raycast relationship is internal context only — never reference it in public-facing content, marketing copy, or user documentation.
   ```

2. Create docs/contributing.md:

   ```markdown
   # Contributing to Virtuna Design System

   ## Adding a New Component

   ### File Structure
   1. Create component file: `src/components/ui/{component-name}.tsx`
   2. Export from barrel: `src/components/ui/index.ts`
   3. Add showcase page section in appropriate category page

   ### Naming Conventions
   - Component files: kebab-case (`extension-card.tsx`)
   - Component names: PascalCase (`ExtensionCard`)
   - Props interface: `{Component}Props` (`ExtensionCardProps`)
   - Variant types: `{Component}{Aspect}` (`ButtonVariant`, `BadgeSize`)

   ### Component Patterns
   - Use `forwardRef` for DOM-wrapping components
   - Use CVA (class-variance-authority) for variant management
   - Props interface extends native HTML element props where appropriate
   - Use Radix primitives for complex interactive components
   - Export types alongside components

   ### Token Usage
   - ALWAYS use Tailwind token classes (bg-background, text-foreground, etc.)
   - NEVER hardcode hex, rgb, or pixel values unless:
     - Value has no token equivalent (e.g., macOS system colors)
     - Value is too complex for a single token (e.g., multi-layer shadows)
     - Value is dynamic/computed at runtime
   - If you must hardcode, add to the allow-list in verification/scripts/hardcoded-values-scan.ts

   ### Testing
   - Visual verification: add component demo to appropriate /showcase page
   - Props coverage: showcase should demonstrate all variants and states

   ## Modifying Tokens
   1. Edit `src/app/globals.css` @theme block
   2. Update `docs/tokens.md` with new/changed values
   3. Run contrast audit: `npx tsx verification/scripts/contrast-audit.ts`

   ## File Organization
   [Directory tree of src/components/ with explanation of each subdirectory]
   ```
  </action>
  <verify>
    - `cat BRAND-BIBLE.md` has all major sections (Color, Typography, Spacing, Components, Motion, Do's/Don'ts)
    - BRAND-BIBLE.md links to all docs/ files
    - docs/contributing.md has naming conventions and component creation guide
    - "Raycast" appears only in Internal Notes section of BRAND-BIBLE.md
  </verify>
  <done>BRAND-BIBLE.md created at repo root as complete brand guide. Contributing guide created at docs/contributing.md.</done>
</task>

<task type="auto">
  <name>Task 2: Motion guidelines + design specs export</name>
  <files>
    docs/motion-guidelines.md
    docs/design-specs.json
  </files>
  <action>
1. Create docs/motion-guidelines.md:

   ```markdown
   # Motion Guidelines

   > Animation patterns and usage guidance for Virtuna

   ## Principles
   - Subtle over dramatic: animations enhance, never distract
   - Performance-first: all animations respect prefers-reduced-motion
   - Consistent timing: use duration tokens (fast: 150ms, normal: 300ms, slow: 500ms)
   - Consistent easing: use easing tokens (ease-out for entries, ease-in for exits)

   ## Scroll Reveal Components

   ### FadeIn
   - **Purpose:** Subtle opacity reveal on scroll
   - **Duration:** 600ms default
   - **Trigger:** IntersectionObserver at -100px viewport margin
   - **Use for:** Content sections, cards, text blocks
   - **Props:** delay, duration, distance

   ### FadeInUp
   - **Purpose:** Combined fade + upward slide
   - **Duration:** 600ms default, 24px translateY
   - **Trigger:** -80px viewport margin (earlier than FadeIn)
   - **Use for:** Hero content, feature cards, key messaging
   - **Props:** delay, duration, distance, as (element type)

   ### SlideUp
   - **Purpose:** Upward slide with opacity
   - **Duration:** 500ms default, 30px translateY
   - **Use for:** List items, stacked content

   ## Orchestration Components

   ### StaggerReveal
   - **Purpose:** Sequenced reveal of child elements
   - **Stagger:** 100ms between children (default)
   - **Use for:** Card grids, feature lists, navigation items
   - **Pattern:** StaggerReveal wraps StaggerRevealItem children

   ### HoverScale
   - **Purpose:** Micro-interaction on hover
   - **Scale:** 1.02 default
   - **Spring:** stiffness 400, damping 25
   - **Use for:** Interactive cards, clickable elements

   ## Page Transitions

   ### PageTransition
   - **Purpose:** Route change animation
   - **Pattern:** FrozenRouter + AnimatePresence
   - **Duration:** 300ms fade

   ## Effects (Non-Motion)

   ### NoiseTexture
   - **Purpose:** SVG grain overlay for texture
   - **Use for:** Large glass panels, hero backgrounds
   - **SSR:** Uses React.useId() for unique filter IDs

   ### ChromaticAberration
   - **Purpose:** RGB split text effect
   - **Use for:** Display headings, decorative text
   - **Method:** Inline textShadow with offset RGB colors

   ## Timing Guidelines

   | Context | Duration | Easing |
   |---------|----------|--------|
   | Hover feedback | 150ms (fast) | ease-out |
   | Content reveal | 300-600ms (normal-slow) | ease-out |
   | Page transition | 300ms (normal) | ease-in-out |
   | Stagger delay | 100ms between items | - |
   | Exit animation | 200ms | ease-in |

   ## Reduced Motion
   All motion components check `prefers-reduced-motion: reduce`:
   - Scroll reveals: instant display (no animation)
   - Hover effects: disabled
   - Page transitions: instant swap
   - Skeleton shimmer: static gradient (no animation)

   Motion is ALWAYS optional — content must be accessible without it.
   ```

2. Create docs/design-specs.json as a structured token export (W3C Design Tokens-adjacent format):

   Read all @theme values from globals.css and export as JSON:
   ```json
   {
     "$schema": "https://design-tokens.github.io/community-group/format/",
     "color": {
       "coral": {
         "100": { "$value": "oklch(...)", "$type": "color", "description": "Lightest coral" },
         ...
       },
       "gray": { ... },
       "semantic": {
         "background": { "$value": "{color.gray.950}", "$type": "color" },
         ...
       }
     },
     "typography": {
       "fontFamily": { ... },
       "fontSize": { ... },
       "fontWeight": { ... },
       "lineHeight": { ... }
     },
     "spacing": { ... },
     "shadow": { ... },
     "borderRadius": { ... },
     "animation": {
       "duration": { ... },
       "easing": { ... }
     },
     "zIndex": { ... }
   }
   ```

3. Include a comment in the JSON about this being a Figma translation reference — not a direct Figma import file.
  </action>
  <verify>
    - `cat docs/motion-guidelines.md` covers all motion components (FadeIn, FadeInUp, SlideUp, StaggerReveal, HoverScale, PageTransition)
    - `cat docs/design-specs.json | python3 -m json.tool` validates as JSON
    - Design specs JSON has color, typography, spacing, shadow, borderRadius sections
    - Motion guidelines include reduced-motion section
  </verify>
  <done>Motion guidelines documented at docs/motion-guidelines.md. Design specs exported as JSON at docs/design-specs.json.</done>
</task>

</tasks>

<verification>
- BRAND-BIBLE.md exists at repo root with all sections
- docs/motion-guidelines.md covers all motion/animation patterns
- docs/design-specs.json is valid JSON with all token categories
- docs/contributing.md has component creation guide
- No component code modified
</verification>

<success_criteria>
- BRAND-BIBLE.md serves as the single entry point to the design system
- Motion guidelines help developers choose the right animation for each context
- Design specs JSON can be used by a designer to recreate the token system in Figma
- Contributing guide enables new developers to extend the system correctly
</success_criteria>

<output>
After completion, create `.planning/phases/44-verification-documentation/44-06-SUMMARY.md`
</output>
