---
phase: 07-polish-edge-cases
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/competitors/detail/detail-header.tsx
  - src/components/competitors/detail/engagement-section.tsx
  - src/components/competitors/detail/content-analysis-section.tsx
  - src/components/competitors/charts/posting-heatmap.tsx
  - src/components/competitors/competitor-table.tsx
  - src/app/(app)/competitors/compare/comparison-client.tsx
  - src/components/competitors/comparison/comparison-metric-card.tsx
  - src/components/competitors/intelligence/intelligence-section.tsx
autonomous: true

must_haves:
  truths:
    - "Detail page stats row stacks vertically on mobile (grid-cols-1) and shows 3 columns on sm+"
    - "Engagement table scrolls horizontally on mobile with min-width and scroll affordance gradient"
    - "Posting heatmap has a right-edge gradient fade hint on mobile indicating scrollable content"
    - "Competitor leaderboard table has min-width so columns don't squeeze on mobile"
    - "Comparison metric cards use grid-cols-1 on mobile stepping up to 2/3/4 on larger screens"
    - "Intelligence cards grid collapses to single column on mobile"
    - "All competitor views are usable on a 375px wide viewport"
  artifacts:
    - path: "src/components/competitors/detail/detail-header.tsx"
      provides: "Responsive stats row"
      contains: "sm:grid-cols-3"
    - path: "src/components/competitors/detail/engagement-section.tsx"
      provides: "Responsive engagement table with scroll hint"
      contains: "min-w-"
    - path: "src/components/competitors/charts/posting-heatmap.tsx"
      provides: "Heatmap with mobile scroll gradient fade"
      contains: "md:hidden"
    - path: "src/components/competitors/competitor-table.tsx"
      provides: "Table with min-width for mobile scroll"
      contains: "min-w-"
  key_links:
    - from: "all detail sections"
      to: "Tailwind responsive prefixes"
      via: "mobile-first grid-cols-1 stepping up with sm:/md:/lg: breakpoints"
      pattern: "grid-cols-1.*sm:grid-cols"
---

<objective>
Audit and fix all competitor views for mobile responsiveness, ensuring every view works well on 375px viewports.

Purpose: All competitor data is currently visible but several layouts break on mobile. Fixed-column grids don't collapse, tables squeeze instead of scrolling, and the heatmap lacks scroll affordance. This plan applies Tailwind mobile-first responsive patterns across all competitor views, satisfying requirement UI-05.

Output: 8 modified files with responsive breakpoints, min-widths for tables, and scroll gradient hints for overflow content.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/competitors/detail/detail-header.tsx
@src/components/competitors/detail/engagement-section.tsx
@src/components/competitors/detail/content-analysis-section.tsx
@src/components/competitors/detail/growth-section.tsx
@src/components/competitors/charts/posting-heatmap.tsx
@src/components/competitors/competitor-table.tsx
@src/app/(app)/competitors/compare/comparison-client.tsx
@src/components/competitors/comparison/comparison-metric-card.tsx
@src/components/competitors/intelligence/intelligence-section.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Responsive detail page -- header stats, engagement table, heatmap scroll hint</name>
  <files>
    src/components/competitors/detail/detail-header.tsx
    src/components/competitors/detail/engagement-section.tsx
    src/components/competitors/charts/posting-heatmap.tsx
    src/components/competitors/detail/content-analysis-section.tsx
  </files>
  <action>
**detail-header.tsx** -- Make the stats row responsive:
- Change `grid grid-cols-3 gap-4` to `grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4`
- This stacks stat cards vertically on mobile, 3-across on sm+
- Also make the profile info section responsive: change `flex items-start gap-4 mb-6` to `flex flex-col sm:flex-row items-start gap-4 mb-6`. This stacks avatar and text vertically on mobile.

**engagement-section.tsx** -- Make the per-video engagement table scroll properly on mobile:
- On the `<table>` element, add `min-w-[640px]` class so it doesn't squeeze columns on narrow screens. The parent already has `overflow-x-auto`.
- Wrap the table's overflow container in a `relative` div and add a right-edge gradient fade (visible on mobile only):
  ```tsx
  <div className="relative">
    <div className="overflow-x-auto">
      <table className="w-full text-sm min-w-[640px]">
        {/* ...existing table content... */}
      </table>
    </div>
    {/* Mobile scroll hint */}
    <div className="absolute right-0 top-0 bottom-0 w-6 bg-gradient-to-l from-[var(--color-background)] to-transparent pointer-events-none sm:hidden" />
  </div>
  ```
- Also make the top grid responsive: the engagement section's `grid lg:grid-cols-2 gap-6 mb-6` is fine (it already starts at 1 col on mobile because there's no `grid-cols-2` base). No change needed.

**posting-heatmap.tsx** -- Add a scroll hint gradient fade for mobile:
- Wrap the existing content in a `relative` parent div
- Add a right-edge fade visible only on mobile:
  ```tsx
  <div className="relative">
    <div className="overflow-x-auto">
      {/* existing heatmap grid */}
    </div>
    <div className="absolute right-0 top-0 bottom-0 w-6 bg-gradient-to-l from-[var(--color-background)] to-transparent pointer-events-none md:hidden" />
  </div>
  ```
- The `(UTC)` caption stays below the relative wrapper.

**content-analysis-section.tsx** -- The grid `lg:grid-cols-2` is already mobile-first (starts at 1 col). No structural changes needed. But verify the hashtag list's `max-h-[300px]` works well on mobile -- it does, since it's a fixed max height with `overflow-y-auto`.
  </action>
  <verify>
Run `npx tsc --noEmit` to confirm no errors.
Visually verify (mentally or via dev tools simulation) that:
- Stats row stacks to 1 column on mobile
- Engagement table scrolls horizontally with gradient hint
- Heatmap scrolls horizontally with gradient hint
  </verify>
  <done>
Detail page header stats stack vertically on mobile. Engagement table has min-width + gradient scroll hint. Posting heatmap has gradient scroll hint on mobile. All detail page sections are responsive.
  </done>
</task>

<task type="auto">
  <name>Task 2: Responsive dashboard table, comparison page, and intelligence section</name>
  <files>
    src/components/competitors/competitor-table.tsx
    src/app/(app)/competitors/compare/comparison-client.tsx
    src/components/competitors/comparison/comparison-metric-card.tsx
    src/components/competitors/intelligence/intelligence-section.tsx
  </files>
  <action>
**competitor-table.tsx** -- Prevent column squeezing on mobile:
- Add `min-w-[800px]` to the `<table>` element (currently just `w-full text-sm`). The parent already has `overflow-x-auto`.
- Wrap the existing `overflow-x-auto` div in a `relative` parent and add a scroll gradient:
  ```tsx
  <div className="relative">
    <div className="w-full overflow-x-auto">
      <table className="w-full text-sm min-w-[800px]">
        {/* ...existing table content... */}
      </table>
    </div>
    <div className="absolute right-0 top-0 bottom-0 w-6 bg-gradient-to-l from-[var(--color-background)] to-transparent pointer-events-none md:hidden" />
  </div>
  ```

**comparison-client.tsx** -- Make the metric cards grid fully responsive:
- Change `grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4` to `grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4`
- This gives 1 column on mobile (375px), 2 on sm (640px+), 3 on md, 4 on lg.
- The charts grid `grid-cols-1 lg:grid-cols-2 gap-4` is already responsive (starts at 1 col). No change needed.
- The selector row `flex-col sm:flex-row` is already responsive. No change needed.

**comparison-metric-card.tsx** -- Reduce text size on small screens:
- Change the value `text-lg font-semibold` to `text-base sm:text-lg font-semibold` for both sides A and B
- This prevents large numbers from overflowing narrow card widths on mobile

**intelligence-section.tsx** -- Make the intelligence cards grid responsive:
- The grid is `grid lg:grid-cols-2 gap-6`. This is already mobile-first (1 col base, 2 on lg). No structural change needed.
- But ensure the strategy card (`lg:col-span-2`) and recommendations card (`lg:col-span-2`) don't have excessively wide content on mobile. Both cards are flexible and wrap text naturally, so no changes needed.
- The section header `flex items-center justify-between mb-4` should wrap on very narrow screens. Change to `flex flex-wrap items-center justify-between gap-2 mb-4` to prevent the "Generate All" button from overflowing.
  </action>
  <verify>
Run `npx tsc --noEmit` to confirm no errors.
Verify the leaderboard table scrolls horizontally on mobile.
Verify comparison metric cards stack to 1 column on mobile.
Verify intelligence section header wraps cleanly on narrow viewports.
  </verify>
  <done>
Leaderboard table scrolls horizontally on mobile with gradient hint. Comparison metric cards use 1/2/3/4 column grid stepping. Intelligence section header wraps correctly. All competitor views are fully responsive on mobile viewports.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with no errors
2. At 375px viewport width:
   - Dashboard card grid: 1 column (already responsive from Phase 3)
   - Dashboard table: horizontal scroll with gradient hint, readable columns
   - Detail page stats: stacked vertically
   - Detail page engagement table: horizontal scroll with gradient hint
   - Detail page heatmap: horizontal scroll with gradient hint
   - Comparison metric cards: 1 column
   - Intelligence cards: 1 column
3. No content is hidden on mobile -- everything is accessible via scroll or stacking
4. No horizontal overflow on any view (all overflow is contained in scroll containers)
</verification>

<success_criteria>
All competitor views (dashboard, detail page, comparison, intelligence) are fully responsive on mobile viewports. No content is hidden, no columns squeeze to unreadable widths, scroll containers have gradient hints. Requirement UI-05 is fully satisfied.
</success_criteria>

<output>
After completion, create `.planning/phases/07-polish-edge-cases/07-03-SUMMARY.md`
</output>
