---
phase: 02-design-system
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - src/components/ui/button.tsx
  - src/components/ui/input.tsx
  - src/components/ui/card.tsx
  - src/components/ui/skeleton.tsx
  - src/components/ui/index.ts
autonomous: true

must_haves:
  truths:
    - "Button renders with correct variants (primary, secondary, ghost)"
    - "Input shows correct states (default, focus, error, disabled)"
    - "Card renders with elevated background styling"
    - "Skeleton shows pulse animation"
  artifacts:
    - path: "src/components/ui/button.tsx"
      provides: "Button component with CVA variants"
      exports: ["Button", "buttonVariants"]
    - path: "src/components/ui/input.tsx"
      provides: "Input component with states"
      exports: ["Input"]
    - path: "src/components/ui/card.tsx"
      provides: "Card component"
      exports: ["Card", "CardHeader", "CardContent", "CardFooter"]
    - path: "src/components/ui/skeleton.tsx"
      provides: "Skeleton loading component"
      exports: ["Skeleton"]
    - path: "src/components/ui/index.ts"
      provides: "Barrel exports"
      exports: ["Button", "Input", "Card", "Skeleton"]
  key_links:
    - from: "src/components/ui/button.tsx"
      to: "src/lib/utils.ts"
      via: "cn import"
      pattern: "import.*cn.*from"
    - from: "src/components/ui/*.tsx"
      to: "design tokens"
      via: "Tailwind classes"
      pattern: "bg-background|text-foreground|bg-accent"
---

<objective>
Create base UI components matching societies.io design.

Purpose: These components form the building blocks for all pages and features. Button, Input, Card, and Skeleton are used throughout the app and landing site.
Output: Four fully-styled, type-safe components with CVA variants where applicable.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-design-system/02-RESEARCH.md
@.planning/phases/02-design-system/02-01-SUMMARY.md
@.reference/design-tokens.md
@src/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Button component with v0 MCP + CVA</name>
  <files>src/components/ui/button.tsx</files>
  <action>
**Use v0 MCP for pixel-perfect accuracy:**

1. Call v0 MCP with reference image and prompt:
   - Reference: .reference/app/tests/_assets/societies-dark-hero.png (shows buttons in context)
   - Prompt: "Create a React Button component matching this design. The button should have:
     - Primary variant (orange/coral background)
     - Secondary variant (dark background with border)
     - Ghost variant (transparent with hover)
     - Sizes: sm, md, lg, icon
     Use TypeScript, Tailwind CSS, and class-variance-authority (CVA) for variants.
     Use a cn() utility from @/lib/utils for class merging.
     Support asChild prop using @radix-ui/react-slot for composition."

2. Refine v0 output to use our design tokens:
   - Replace hardcoded colors with tokens: bg-accent, bg-background-elevated, text-foreground, border-border
   - Ensure CVA pattern matches our established style
   - Add focus-visible states: focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background
   - Add disabled states: disabled:pointer-events-none disabled:opacity-50

3. Ensure proper TypeScript types:
   - ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement>
   - ButtonProps extends VariantProps<typeof buttonVariants>
   - asChild?: boolean prop

4. Export Button and buttonVariants
  </action>
  <verify>
    - TypeScript compiles without errors
    - Button accepts variant and size props with autocomplete
    - asChild prop works with Slot
  </verify>
  <done>
    - Button component renders with 4 variants (primary, secondary, ghost, link)
    - Button component has 4 sizes (sm, md, lg, icon)
    - asChild pattern works for composition
    - TypeScript types are correct
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Input, Card, and Skeleton components with v0 MCP</name>
  <files>
    src/components/ui/input.tsx
    src/components/ui/card.tsx
    src/components/ui/skeleton.tsx
    src/components/ui/index.ts
  </files>
  <action>
**Use v0 MCP for pixel-perfect accuracy:**

1. **Input component** - Call v0 MCP:
   - Reference: .reference/app/tests/_assets/create-test-step1.png (shows input fields)
   - Prompt: "Create a React Input component matching these input fields. Dark background, subtle border, focus state with accent color. Use TypeScript, Tailwind CSS, forwardRef pattern. Support error state prop. Use cn() from @/lib/utils."
   - Refine output to use design tokens: bg-background, border-border, focus:border-accent, text-foreground, placeholder:text-foreground-muted
   - Add error prop: border-red-500 when error={true}
   - Add disabled state: disabled:cursor-not-allowed disabled:opacity-50

2. **Card component** - Call v0 MCP:
   - Reference: .reference/app/tests/_assets/societies-dark-features.png (shows card-like sections)
   - Prompt: "Create a React Card component with CardHeader, CardContent, CardFooter subcomponents. Dark elevated background, subtle border, rounded corners. Use TypeScript, Tailwind CSS, forwardRef pattern. Use cn() from @/lib/utils."
   - Refine output to use design tokens: bg-background-elevated, border-border, rounded-md
   - Ensure proper spacing: p-6 for sections, pt-0 for content/footer

3. **Skeleton component** - Create manually (simple component):
   - div with cn()
   - Styles: bg-foreground-muted/10 rounded-md animate-pulse
   - Add motion-reduce:animate-none for accessibility
   - Accept standard HTMLDivElement props

4. Create barrel export (src/components/ui/index.ts):
   - export { Button, buttonVariants } from "./button"
   - export { Input } from "./input"
   - export { Card, CardHeader, CardContent, CardFooter } from "./card"
   - export { Skeleton } from "./skeleton"
  </action>
  <verify>
    - npm run build passes
    - All components import correctly from @/components/ui
    - Input error state changes border color
    - Card composes correctly with Header, Content, Footer
    - Skeleton animates with pulse effect
  </verify>
  <done>
    - Input component with default, focus, error, disabled states
    - Card with CardHeader, CardContent, CardFooter subcomponents
    - Skeleton with pulse animation (respects reduced-motion)
    - All components exportable from src/components/ui
  </done>
</task>

</tasks>

<verification>
1. `npm run build` passes
2. All components can be imported: `import { Button, Input, Card, Skeleton } from "@/components/ui"`
3. Button variant prop accepts "primary" | "secondary" | "ghost" | "link"
4. Input shows red border when error={true}
5. Skeleton shows animation (or no animation with prefers-reduced-motion)
</verification>

<success_criteria>
- 4 UI components created (Button, Input, Card, Skeleton)
- All use design tokens (bg-background, text-accent, etc.)
- All use cn() utility for class merging
- TypeScript types are correct and provide autocomplete
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-design-system/02-02-SUMMARY.md`
</output>
