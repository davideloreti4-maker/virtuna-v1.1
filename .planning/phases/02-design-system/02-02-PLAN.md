---
phase: 02-design-system
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - src/components/ui/button.tsx
  - src/components/ui/input.tsx
  - src/components/ui/card.tsx
  - src/components/ui/skeleton.tsx
  - src/components/ui/index.ts
autonomous: true

must_haves:
  truths:
    - "Button renders with correct variants (primary, secondary, ghost)"
    - "Input shows correct states (default, focus, error, disabled)"
    - "Card renders with elevated background styling"
    - "Skeleton shows pulse animation"
  artifacts:
    - path: "src/components/ui/button.tsx"
      provides: "Button component with CVA variants"
      exports: ["Button", "buttonVariants"]
    - path: "src/components/ui/input.tsx"
      provides: "Input component with states"
      exports: ["Input"]
    - path: "src/components/ui/card.tsx"
      provides: "Card component"
      exports: ["Card", "CardHeader", "CardContent", "CardFooter"]
    - path: "src/components/ui/skeleton.tsx"
      provides: "Skeleton loading component"
      exports: ["Skeleton"]
    - path: "src/components/ui/index.ts"
      provides: "Barrel exports"
      exports: ["Button", "Input", "Card", "Skeleton"]
  key_links:
    - from: "src/components/ui/button.tsx"
      to: "src/lib/utils.ts"
      via: "cn import"
      pattern: "import.*cn.*from"
    - from: "src/components/ui/*.tsx"
      to: "design tokens"
      via: "Tailwind classes"
      pattern: "bg-background|text-foreground|bg-accent"
---

<objective>
Create base UI components matching societies.io design.

Purpose: These components form the building blocks for all pages and features. Button, Input, Card, and Skeleton are used throughout the app and landing site.
Output: Four fully-styled, type-safe components with CVA variants where applicable.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-design-system/02-RESEARCH.md
@.planning/phases/02-design-system/02-01-SUMMARY.md
@.reference/design-tokens.md
@src/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Button component with CVA</name>
  <files>src/components/ui/button.tsx</files>
  <action>
Create Button component using CVA pattern from research:

1. Import dependencies:
   - cva, VariantProps from class-variance-authority
   - Slot from @radix-ui/react-slot
   - cn from @/lib/utils
   - React types

2. Define buttonVariants with cva():
   Base styles:
   - inline-flex items-center justify-center
   - rounded-sm (4px per design tokens)
   - text-sm font-medium
   - transition-colors duration-200
   - focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background
   - disabled:pointer-events-none disabled:opacity-50

   Variants:
   - variant:
     - primary: bg-accent text-white hover:bg-accent/90
     - secondary: bg-background-elevated text-foreground border border-border hover:bg-background-elevated/80
     - ghost: text-foreground hover:bg-white/10
     - link: text-accent underline-offset-4 hover:underline
   - size:
     - sm: h-8 px-3 text-xs
     - md: h-10 px-4
     - lg: h-12 px-6 text-base
     - icon: h-10 w-10

   Default variants: variant: "primary", size: "md"

3. Create ButtonProps interface:
   - Extend React.ButtonHTMLAttributes<HTMLButtonElement>
   - Extend VariantProps<typeof buttonVariants>
   - Add asChild?: boolean prop

4. Create Button component:
   - Use Slot when asChild is true, button otherwise
   - Apply cn(buttonVariants({ variant, size }), className)
   - Forward ref properly

5. Export Button and buttonVariants
  </action>
  <verify>
    - TypeScript compiles without errors
    - Button accepts variant and size props with autocomplete
    - asChild prop works with Slot
  </verify>
  <done>
    - Button component renders with 4 variants (primary, secondary, ghost, link)
    - Button component has 4 sizes (sm, md, lg, icon)
    - asChild pattern works for composition
    - TypeScript types are correct
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Input, Card, and Skeleton components</name>
  <files>
    src/components/ui/input.tsx
    src/components/ui/card.tsx
    src/components/ui/skeleton.tsx
    src/components/ui/index.ts
  </files>
  <action>
1. Create Input component (src/components/ui/input.tsx):
   - forwardRef pattern for ref forwarding
   - Props extend InputHTMLAttributes<HTMLInputElement>
   - Add error?: boolean prop for error state
   - Styles matching societies.io:
     - Base: flex h-10 w-full rounded-sm border bg-background px-3 py-2
     - Typography: text-sm text-foreground placeholder:text-foreground-muted
     - Border: border-border focus:border-accent focus:outline-none
     - States: disabled:cursor-not-allowed disabled:opacity-50
     - Error: border-red-500 focus:border-red-500 (when error prop true)
   - Use cn() for className merging

2. Create Card components (src/components/ui/card.tsx):
   - Card: div with bg-background-elevated rounded-md border border-border
   - CardHeader: div with flex flex-col space-y-1.5 p-6
   - CardContent: div with p-6 pt-0
   - CardFooter: div with flex items-center p-6 pt-0
   - All components use forwardRef and cn() for className merging
   - Export all four

3. Create Skeleton component (src/components/ui/skeleton.tsx):
   - Simple div with cn()
   - Styles: bg-foreground-muted/10 rounded-md animate-pulse
   - Add motion-reduce:animate-none for accessibility
   - Accept standard HTMLDivElement props

4. Create barrel export (src/components/ui/index.ts):
   - Export all components from their respective files
   - export { Button, buttonVariants } from "./button"
   - export { Input } from "./input"
   - export { Card, CardHeader, CardContent, CardFooter } from "./card"
   - export { Skeleton } from "./skeleton"
  </action>
  <verify>
    - npm run build passes
    - All components import correctly from @/components/ui
    - Input error state changes border color
    - Card composes correctly with Header, Content, Footer
    - Skeleton animates with pulse effect
  </verify>
  <done>
    - Input component with default, focus, error, disabled states
    - Card with CardHeader, CardContent, CardFooter subcomponents
    - Skeleton with pulse animation (respects reduced-motion)
    - All components exportable from src/components/ui
  </done>
</task>

</tasks>

<verification>
1. `npm run build` passes
2. All components can be imported: `import { Button, Input, Card, Skeleton } from "@/components/ui"`
3. Button variant prop accepts "primary" | "secondary" | "ghost" | "link"
4. Input shows red border when error={true}
5. Skeleton shows animation (or no animation with prefers-reduced-motion)
</verification>

<success_criteria>
- 4 UI components created (Button, Input, Card, Skeleton)
- All use design tokens (bg-background, text-accent, etc.)
- All use cn() utility for class merging
- TypeScript types are correct and provide autocomplete
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-design-system/02-02-SUMMARY.md`
</output>
