---
phase: 06-test-type-selector-forms
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/types/test.ts
  - src/lib/test-types.ts
  - src/components/app/test-type-selector.tsx
  - src/components/app/index.ts
autonomous: true

must_haves:
  truths:
    - "User can open test type selector modal"
    - "User sees 11 test types organized in 5 categories"
    - "User can click a test type to select it"
    - "User can close modal with X, ESC, or click outside"
  artifacts:
    - path: "src/types/test.ts"
      provides: "Test type definitions and categories"
      contains: "TestType"
    - path: "src/lib/test-types.ts"
      provides: "Test type configuration data (11 types, 5 categories)"
      contains: "TEST_CATEGORIES"
    - path: "src/components/app/test-type-selector.tsx"
      provides: "Test type selector modal component"
      exports: ["TestTypeSelector"]
  key_links:
    - from: "src/components/app/test-type-selector.tsx"
      to: "src/lib/test-types.ts"
      via: "imports test type config"
      pattern: "TEST_CATEGORIES"
---

<objective>
Create test type selector modal with all 11 test types organized in 5 categories

Purpose: Enable users to select what type of content test they want to create (survey, social media, marketing, etc.)
Output: TestTypeSelector modal component with type definitions and configuration data
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-test-type-selector-forms/06-CONTEXT.md
@src/components/app/create-society-modal.tsx (reference for Radix Dialog pattern)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create test type definitions and configuration</name>
  <files>
    - src/types/test.ts
    - src/lib/test-types.ts
  </files>
  <action>
1. Create `src/types/test.ts` with TypeScript types:
   - `TestType` union: 'survey' | 'article' | 'website-content' | 'advertisement' | 'linkedin-post' | 'instagram-post' | 'x-post' | 'tiktok-script' | 'email-subject-line' | 'email' | 'product-proposition'
   - `TestCategory` type with id, name, types array
   - `TestTypeConfig` interface with id, name, description, placeholder, icon (Lucide icon name)

2. Create `src/lib/test-types.ts` with configuration data:
   - Export `TEST_TYPES` record mapping TestType to TestTypeConfig
   - Export `TEST_CATEGORIES` array with 5 categories:
     - SURVEY: Survey
     - MARKETING CONTENT: Article, Website Content, Advertisement
     - SOCIAL MEDIA POSTS: LinkedIn Post, Instagram Post, X Post, TikTok Script
     - COMMUNICATION: Email Subject Line, Email
     - PRODUCT: Product Proposition
   - Use Lucide icon names that match societies.io (ClipboardList, FileText, Globe, Megaphone, Linkedin, Instagram, Twitter, Video, Mail, Send, Package)
   - Include placeholder text matching TEST-05 requirements exactly
  </action>
  <verify>TypeScript compiles: `npx tsc --noEmit`</verify>
  <done>Types and config exist, all 11 types defined with correct categories and placeholders</done>
</task>

<task type="auto">
  <name>Task 2: Build TestTypeSelector modal component</name>
  <files>
    - src/components/app/test-type-selector.tsx
    - src/components/app/index.ts
  </files>
  <action>
**MANDATORY: Use v0 MCP to match societies.io pixel-perfect**

1. Query v0 MCP with prompt: "Create a test type selector modal for societies.io. Modal shows 'What would you like to simulate?' header, organized in 5 category sections (Survey, Marketing Content, Social Media Posts, Communication, Product). Each type is a clickable card with icon and name. Dark theme with zinc-800/900 colors, rounded corners, close X button. Grid layout for types within each category."

2. Create `src/components/app/test-type-selector.tsx`:
   - Use Radix Dialog (same pattern as CreateSocietyModal)
   - Props: open, onOpenChange, onSelectType: (type: TestType) => void
   - Header: "What would you like to simulate?"
   - Close button (X) top-right
   - Map over TEST_CATEGORIES to render category sections
   - Each category: label, grid of type cards
   - Type cards: icon (from Lucide), type name
   - On card click: call onSelectType with type id, close modal
   - Footer: "Request a new context" button (UI only, console.log on click)
   - ESC key and click outside close modal (Radix handles this)

3. Style matching societies.io:
   - Modal: max-w-3xl, rounded-3xl, zinc-900 bg
   - Category labels: uppercase, text-xs, text-zinc-500, tracking-wider
   - Type cards: hover:bg-zinc-800, rounded-xl, p-4
   - Icons: h-6 w-6, text-zinc-400
   - Type names: text-sm, text-white

4. Add export to `src/components/app/index.ts`
  </action>
  <verify>
    - `npm run build` passes
    - Modal renders when open=true (manual verification in next plan)
  </verify>
  <done>TestTypeSelector modal exists, displays all 11 types in 5 categories, closes properly</done>
</task>

</tasks>

<verification>
- TypeScript compiles without errors
- Build succeeds
- TestTypeSelector exported from @/components/app
- All 11 test types present in TEST_TYPES
- All 5 categories present in TEST_CATEGORIES
</verification>

<success_criteria>
- Test type definitions complete (11 types, 5 categories)
- TestTypeSelector modal renders with all types
- Category organization matches TEST-02 exactly
- Modal behavior matches TEST-03 (click type selects, ESC/outside closes)
</success_criteria>

<output>
After completion, create `.planning/phases/06-test-type-selector-forms/06-01-SUMMARY.md`
</output>
