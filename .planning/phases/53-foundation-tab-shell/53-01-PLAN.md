---
phase: 53-foundation-tab-shell
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/types/brand-deals.ts
  - src/hooks/useCopyToClipboard.ts
  - src/lib/mock-brand-deals.ts
autonomous: true

must_haves:
  truths:
    - "TypeScript interfaces exist for BrandDeal, AffiliateLink, Product, EarningsSummary, MonthlyEarning, and EarningSource"
    - "Mock data arrays export 8-12 deals, 4-5 affiliate links, 6-8 products, and one earnings summary with edge cases"
    - "useCopyToClipboard hook returns { copied, copy } and resets copied state after configurable timeout"
  artifacts:
    - path: "src/types/brand-deals.ts"
      provides: "All TypeScript interfaces for brand deals domain"
      exports: ["BrandDeal", "AffiliateLink", "Product", "EarningsSummary", "MonthlyEarning", "EarningSource", "BrandDealCategory"]
    - path: "src/lib/mock-brand-deals.ts"
      provides: "Typed mock data fixtures with edge cases"
      exports: ["MOCK_DEALS", "MOCK_AFFILIATE_LINKS", "MOCK_PRODUCTS", "MOCK_EARNINGS_SUMMARY"]
    - path: "src/hooks/useCopyToClipboard.ts"
      provides: "Reusable clipboard hook with feedback state"
      exports: ["useCopyToClipboard"]
  key_links:
    - from: "src/lib/mock-brand-deals.ts"
      to: "src/types/brand-deals.ts"
      via: "typed imports"
      pattern: "import.*from.*types/brand-deals"
---

<objective>
Create the data layer and shared utilities for the Brand Deals page: TypeScript interfaces, mock data fixtures with edge cases, and the reusable `useCopyToClipboard` hook.

Purpose: Phase 53 needs typed mock data and a clipboard hook before the UI components can be built. This plan delivers the foundation that Plan 02 imports.
Output: Three files -- types, mock data, and clipboard hook -- ready for consumption by the page components.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/53-foundation-tab-shell/53-RESEARCH.md
@.planning/phases/53-foundation-tab-shell/53-CONTEXT.md

# Existing patterns to follow
@src/types/settings.ts
@src/lib/mock-data.ts
@src/app/(marketing)/showcase/_components/copy-button.tsx
@src/hooks/useIsMobile.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TypeScript interfaces and mock data fixtures</name>
  <files>src/types/brand-deals.ts, src/lib/mock-brand-deals.ts</files>
  <action>
Create `src/types/brand-deals.ts` with the following interfaces (follow the pattern in `src/types/settings.ts`):

**BrandDealCategory** -- union type: "tech" | "fashion" | "gaming" | "fitness" | "beauty" | "food" | "travel" | "finance"

**BrandDeal** -- interface with fields:
- id: string
- brandName: string
- brandLogo: string (URL -- use clearbit CDN format: `https://logo.clearbit.com/{domain}`)
- category: BrandDealCategory
- status: "active" | "pending" | "expired" | "applied"
- commission: number (percentage 0-100)
- fixedFee?: number (optional fixed payment amount)
- payoutRange?: string (e.g. "$50 - $500 per post")
- startDate: string (ISO date)
- endDate?: string (optional, for ongoing deals)
- description: string
- requirements?: string (optional eligibility requirements)
- isNew?: boolean (for "New This Week" section)
- applicantCount?: number (social proof)

**AffiliateLink** -- interface with fields:
- id: string
- dealId: string (references BrandDeal.id)
- productName: string
- productImage?: string
- url: string (full affiliate URL)
- shortCode: string
- clicks: number
- conversions: number
- earnings: number
- commissionRate: number (percentage)
- status: "active" | "paused" | "expired"
- createdAt: string (ISO date)

**Product** -- interface with fields:
- id: string
- name: string
- brandName: string
- brandLogo: string
- imageUrl?: string
- price: number
- commissionRate: number (percentage)
- category: BrandDealCategory

**EarningsSummary** -- interface with fields:
- totalEarned: number
- pendingPayout: number
- paidOut: number
- thisMonth: number
- monthlyBreakdown: MonthlyEarning[]
- topSources: EarningSource[]

**MonthlyEarning** -- interface: { month: string (e.g. "2026-01"), amount: number }

**EarningSource** -- interface: { brandName: string, brandLogo: string, totalEarned: number, clicks: number, conversions: number, dealCount: number }

Then create `src/lib/mock-brand-deals.ts` with typed fixture arrays:

**MOCK_DEALS: BrandDeal[]** -- 10 deals using real brand names:
1. Nike (fashion, active, 15% commission, $200 fixed, new)
2. Spotify (tech, active, 25% commission, no fixed fee)
3. Adobe (tech, active, 30% commission, $500 fixed)
4. Gymshark (fitness, pending, 20% commission)
5. Sephora (beauty, active, 18% commission, new)
6. HelloFresh (food, active, 12% commission, $100 fixed)
7. Booking.com (travel, expired, 8% commission)
8. Coinbase (finance, active, 35% commission)
9. Razer (gaming, active, 22% commission, new)
10. EDGE CASE: "Extraordinarily Long Brand Name Corp International" (tech, pending, 0% commission, $0 fixed fee -- tests zero values and long name truncation)

Use clearbit CDN for logos: `https://logo.clearbit.com/{domain}` (e.g., nike.com, spotify.com).

**MOCK_AFFILIATE_LINKS: AffiliateLink[]** -- 5 links with varied data:
- 1 high performer (5000+ clicks, 200+ conversions, $2,500+ earnings)
- 1 medium performer (500 clicks, 50 conversions)
- 1 low performer (25 clicks, 2 conversions)
- 1 new link (0 clicks, 0 conversions, 0 earnings -- zero edge case)
- 1 paused link

**MOCK_PRODUCTS: Product[]** -- 8 products across different categories for the "Available Products" grid

**MOCK_EARNINGS_SUMMARY: EarningsSummary** -- realistic earnings showing progression narrative:
- totalEarned: ~$12,500
- pendingPayout: ~$1,850
- paidOut: ~$10,650
- thisMonth: ~$2,100
- monthlyBreakdown: 6 months of data showing upward trend
- topSources: 5 sources with mix of tiers ($50/mo starter, $500/mo mid, $5000/mo top)

All monetary values as numbers (not strings). ISO date strings for dates.
  </action>
  <verify>
Run `npx tsc --noEmit` -- no type errors. Verify exports: `grep -r "export" src/types/brand-deals.ts src/lib/mock-brand-deals.ts`.
  </verify>
  <done>
Types file exports all 7 interfaces/types. Mock data file exports 4 typed arrays/objects with 10 deals, 5 affiliate links, 8 products, and 1 earnings summary. At least one deal has zero commission, one has a very long name, one affiliate link has zero clicks/conversions/earnings.
  </done>
</task>

<task type="auto">
  <name>Task 2: Extract useCopyToClipboard hook</name>
  <files>src/hooks/useCopyToClipboard.ts</files>
  <action>
Create `src/hooks/useCopyToClipboard.ts` -- a reusable hook extracted from the inline clipboard pattern in `src/app/(marketing)/showcase/_components/copy-button.tsx`.

The hook must:
1. Accept an optional `resetDelay` parameter (default: 2000ms)
2. Return `{ copied: boolean, copy: (text: string) => Promise<boolean> }`
3. `copy` function: calls `navigator.clipboard.writeText(text)`, sets `copied = true`, resets to `false` after `resetDelay` ms
4. Handle missing clipboard API gracefully (return false, log warning)
5. Handle clipboard write failures (return false, log error)
6. Include "use client" directive at top
7. Include JSDoc with @param and @example

Follow the exact implementation from the RESEARCH.md code example (Pattern: useCopyToClipboard Hook section). Use `useCallback` with `resetDelay` in the dependency array. Use `useState` for the copied boolean.

Important: Do NOT use `useRef` for the timeout -- the simple `setTimeout` pattern is sufficient for this use case (the component unmount edge case is acceptable since it only triggers a setState warning, and React 18+ suppresses those).
  </action>
  <verify>
Run `npx tsc --noEmit` -- no type errors. Verify the hook exports correctly: `grep "export function useCopyToClipboard" src/hooks/useCopyToClipboard.ts`.
  </verify>
  <done>
Hook file exists at `src/hooks/useCopyToClipboard.ts`, exports `useCopyToClipboard` function, accepts optional `resetDelay` parameter, returns `{ copied, copy }` with correct TypeScript types.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with zero errors
2. `src/types/brand-deals.ts` exports: BrandDeal, AffiliateLink, Product, EarningsSummary, MonthlyEarning, EarningSource, BrandDealCategory
3. `src/lib/mock-brand-deals.ts` exports: MOCK_DEALS (10 items), MOCK_AFFILIATE_LINKS (5 items), MOCK_PRODUCTS (8 items), MOCK_EARNINGS_SUMMARY (1 object)
4. `src/hooks/useCopyToClipboard.ts` exports: useCopyToClipboard
5. Edge cases present in mock data: zero commission deal, very long brand name, zero-stats affiliate link
</verification>

<success_criteria>
- All 3 files created with correct exports
- TypeScript compilation passes
- Mock data includes edge cases (long name, zero values, missing optional fields)
- useCopyToClipboard hook has proper types and JSDoc
</success_criteria>

<output>
After completion, create `.planning/phases/53-foundation-tab-shell/53-01-SUMMARY.md`
</output>
