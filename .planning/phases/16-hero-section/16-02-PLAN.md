---
phase: 16-hero-section
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/hero/WindowMockup.tsx
  - src/components/hero/index.ts
  - public/images/virtuna-results-screenshot.png
autonomous: true

must_haves:
  truths:
    - "macOS window mockup displays with traffic lights (red/yellow/green)"
    - "Window contains static app screenshot showing results state"
    - "Mockup floats with 3D perspective rotation"
    - "Gentle bob animation creates floating effect"
  artifacts:
    - path: "src/components/hero/WindowMockup.tsx"
      provides: "macOS window mockup component with perspective and animation"
      exports: ["WindowMockup"]
    - path: "public/images/virtuna-results-screenshot.png"
      provides: "Static screenshot of Virtuna results state"
  key_links:
    - from: "WindowMockup.tsx"
      to: "@/components/primitives"
      via: "TrafficLights and GlassPanel imports"
      pattern: "import.*TrafficLights.*GlassPanel.*from"
---

<objective>
Create WindowMockup composite component combining TrafficLights, GlassPanel, and a static app screenshot with 3D perspective and floating animation.

Purpose: Showcase the Virtuna app in a premium macOS-style window that reinforces the product's quality and professionalism.
Output: WindowMockup component ready for hero section composition, with perspective float and bob animation.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-hero-section/16-CONTEXT.md
@.planning/phases/15-foundation-primitives/15-03-SUMMARY.md
@src/components/primitives/index.ts
@src/components/primitives/TrafficLights.tsx
@src/components/primitives/GlassPanel.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create placeholder screenshot for results state</name>
  <files>public/images/virtuna-results-screenshot.png</files>
  <action>
Take a screenshot of the Virtuna app results state to use in the mockup.

**Process:**
1. Navigate to the local dev server (http://localhost:3000 or the Vercel deployment)
2. Go to the app dashboard with a completed test result visible
3. Capture the results panel area showing:
   - Impact score
   - Insights/themes
   - Any visualizations
4. Save as PNG at reasonable resolution (1200-1400px width recommended)
5. Place in public/images/virtuna-results-screenshot.png

**Alternative if app not accessible:**
Create a simple placeholder image using a tool or save a placeholder that can be replaced later. The component should work regardless of specific image content.

**Fallback:** If screenshot capture is not possible, create a simple dark placeholder image (1200x800px, #0A0A0B background) with "Virtuna Results" text centered. This ensures the component works and screenshot can be swapped later.
  </action>
  <verify>
File exists at public/images/virtuna-results-screenshot.png
Image is valid PNG format
  </verify>
  <done>
Screenshot or placeholder image ready for WindowMockup component.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create WindowMockup component with perspective and animation</name>
  <files>src/components/hero/WindowMockup.tsx</files>
  <action>
Create a client component that composes a macOS-style window mockup:

**Structure:**
```tsx
"use client";

import Image from "next/image";
import { GlassPanel, TrafficLights } from "@/components/primitives";
import { cn } from "@/lib/utils";

export interface WindowMockupProps {
  /** Screenshot source path */
  screenshotSrc?: string;
  /** Alt text for screenshot */
  screenshotAlt?: string;
  /** Additional className for container */
  className?: string;
}
```

**Layout:**
1. Outer wrapper with 3D perspective transform:
   - `transform: perspective(1000px) rotateY(-5deg) rotateX(2deg)`
   - This creates the angled floating effect
   - Wrapper should preserve-3d for child transforms

2. GlassPanel container:
   - blur="lg" for heavy glassmorphism
   - opacity={0.7} for visibility
   - borderGlow={true} for premium edge
   - Width: 600-700px base, responsive scaling
   - Rounded corners (rounded-2xl)

3. Window chrome (title bar):
   - Height: 40-48px
   - Border-bottom separator (border-glass color)
   - TrafficLights positioned left with padding
   - Optional centered title text (muted color)

4. Content area:
   - Padding for inset effect
   - Next.js Image component for screenshot
   - Rounded corners on image (rounded-lg)
   - Aspect ratio container for consistent sizing

5. **Bob animation:**
   - CSS animation on wrapper: `animation: window-bob 4s ease-in-out infinite`
   - Subtle Y translation (5-10px up/down)
   - Add keyframes to component or globals.css:
   ```css
   @keyframes window-bob {
     0%, 100% { transform: perspective(1000px) rotateY(-5deg) rotateX(2deg) translateY(0); }
     50% { transform: perspective(1000px) rotateY(-5deg) rotateX(2deg) translateY(-8px); }
   }
   ```

6. **Shadow:**
   - Use shadow-float or custom shadow for dramatic depth
   - Shadow should be offset to match perspective angle

**Reduced motion:**
- Check for prefers-reduced-motion
- If reduced, disable bob animation (static perspective only)

**Props defaults:**
- screenshotSrc: "/images/virtuna-results-screenshot.png"
- screenshotAlt: "Virtuna analysis results"
  </action>
  <verify>
`npm run build` succeeds with no TypeScript errors.
Component imports TrafficLights and GlassPanel from primitives.
Perspective transform is applied.
  </verify>
  <done>
WindowMockup renders macOS window with traffic lights, glass panel, screenshot, and floating animation.
Perspective creates 3D depth effect.
Bob animation provides gentle floating motion.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add window-bob keyframes and update barrel export</name>
  <files>src/app/globals.css, src/components/hero/index.ts</files>
  <action>
1. Add to globals.css after gradient-drift keyframes:

```css
/* Window mockup bob animation */
@keyframes window-bob {
  0%, 100% {
    transform: perspective(1000px) rotateY(-5deg) rotateX(2deg) translateY(0);
  }
  50% {
    transform: perspective(1000px) rotateY(-5deg) rotateX(2deg) translateY(-8px);
  }
}
```

2. Update src/components/hero/index.ts to include WindowMockup:

```typescript
export { HeroBackground } from "./HeroBackground";
export type { HeroBackgroundProps } from "./HeroBackground";

export { WindowMockup } from "./WindowMockup";
export type { WindowMockupProps } from "./WindowMockup";
```
  </action>
  <verify>
`npm run build` succeeds.
index.ts exports WindowMockup.
window-bob keyframes in globals.css.
  </verify>
  <done>
WindowMockup exported from @/components/hero barrel.
Bob animation keyframes available globally.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. WindowMockup.tsx exists with correct exports
3. Screenshot or placeholder exists at public/images/virtuna-results-screenshot.png
4. globals.css contains window-bob keyframes
5. Barrel export includes WindowMockup
</verification>

<success_criteria>
- WindowMockup displays macOS window with traffic lights
- Screenshot visible inside window with proper aspect ratio
- 3D perspective creates floating depth effect
- Gentle bob animation (4s cycle) adds motion
- Reduced motion preference disables animation
- GlassPanel and TrafficLights from Phase 15 are used
</success_criteria>

<output>
After completion, create `.planning/phases/16-hero-section/16-02-SUMMARY.md`
</output>
