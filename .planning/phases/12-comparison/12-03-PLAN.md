---
phase: 12-comparison
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/12-comparison/virtuna-screenshots/modals/
  - .planning/phases/12-comparison/virtuna-screenshots/results/
  - .planning/phases/12-comparison/discrepancies/modals-results.md
autonomous: true

must_haves:
  truths:
    - "Create Society modal compared with reference"
    - "Leave Feedback modal compared with reference"
    - "Results panel compared with reference"
    - "Results insights view compared with reference"
    - "All discrepancies have sequential global IDs"
  artifacts:
    - path: ".planning/phases/12-comparison/virtuna-screenshots/modals/"
      provides: "Virtuna modal screenshots"
    - path: ".planning/phases/12-comparison/virtuna-screenshots/results/"
      provides: "Virtuna results screenshots"
    - path: ".planning/phases/12-comparison/discrepancies/modals-results.md"
      provides: "Discrepancy report for modals and results"
      contains: "| ID | Component |"
  key_links:
    - from: "discrepancies/modals-results.md"
      to: "extraction/screenshots/desktop-fullpage/modals/"
      via: "image path references"
      pattern: "extraction/screenshots/desktop-fullpage"
---

<objective>
Compare modals, settings, results panel, and overlays between Virtuna and app.societies.io reference.

Purpose: Document discrepancies in overlay components (modals) and content display areas (results).
Output: Discrepancy report with categorized/prioritized issues and Virtuna screenshots.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-comparison/12-RESEARCH.md
@.planning/phases/12-comparison/12-CONTEXT.md
@.planning/phases/12-comparison/PHASE-12-PREP.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Capture Virtuna modal screenshots</name>
  <files>.planning/phases/12-comparison/virtuna-screenshots/modals/</files>
  <action>
Use Playwright MCP to capture modal states matching reference screenshots.

**Reference files to match:**
- `modals/01-create-society-modal.png`
- `modals/02-leave-feedback-modal.png`

**For each reference:**
1. Navigate to http://localhost:3000/app
2. Set viewport to 1440x900
3. Trigger the modal:
   - Create Society: Click society selector, then "Create Target Society" or equivalent
   - Leave Feedback: Click "Leave Feedback" in sidebar or settings
4. Wait for modal animation (300ms)
5. Capture screenshot

Create directory `.planning/phases/12-comparison/virtuna-screenshots/modals/` and save:
- `01-create-society-modal.png` - Create Target Society modal open
- `02-leave-feedback-modal.png` - Leave Feedback modal open
  </action>
  <verify>2 modal screenshots exist in virtuna-screenshots/modals/</verify>
  <done>All modal states captured matching reference filenames</done>
</task>

<task type="auto">
  <name>Task 2: Capture Virtuna results screenshots</name>
  <files>.planning/phases/12-comparison/virtuna-screenshots/results/</files>
  <action>
Use Playwright MCP to capture results panel states matching reference screenshots.

**Reference files to match:**
- `results/01-results-panel.png`
- `results/02-results-insights.png`

**To reach results state:**
1. Navigate to http://localhost:3000/app
2. Set viewport to 1440x900
3. Either:
   - Run a simulation (create test, fill form, run)
   - Or if test history exists, click on a completed test
4. Wait for results to load
5. Capture results panel screenshot
6. For insights view, click to expand/view insights tab

Create directory `.planning/phases/12-comparison/virtuna-screenshots/results/` and save:
- `01-results-panel.png` - Results panel with Impact Score visible
- `02-results-insights.png` - Results with insights expanded/visible
  </action>
  <verify>2 results screenshots exist in virtuna-screenshots/results/</verify>
  <done>All results states captured matching reference filenames</done>
</task>

<task type="auto">
  <name>Task 3: Analyze and document discrepancies</name>
  <files>.planning/phases/12-comparison/discrepancies/modals-results.md</files>
  <action>
Use v0 MCP to analyze screenshots and document discrepancies.

**For each pair (reference + Virtuna):**

1. Use v0_generate_from_image on reference with prompt:
   "Extract exact styling specs: modal overlay color, modal background, border radius, shadows, padding, button styles, input styles, text sizes/colors, spacing between elements. Output as structured list with pixel/hex values."

2. Use v0_generate_from_image on Virtuna with same prompt

3. Compare outputs and document differences

**Create `.planning/phases/12-comparison/discrepancies/modals-results.md`:**

```markdown
# Modals & Results Discrepancies

## Create Society Modal
**Reference:** `extraction/screenshots/desktop-fullpage/modals/01-create-society-modal.png`
**Virtuna:** `.planning/phases/12-comparison/virtuna-screenshots/modals/01-create-society-modal.png`

| ID | Component | Element | Issue | Type | Severity | Reference | Current | Fix Hint | File Path | Status |
|----|-----------|---------|-------|------|----------|-----------|---------|----------|-----------|--------|

## Leave Feedback Modal
**Reference:** `extraction/screenshots/desktop-fullpage/modals/02-leave-feedback-modal.png`
**Virtuna:** `.planning/phases/12-comparison/virtuna-screenshots/modals/02-leave-feedback-modal.png`

| ID | Component | Element | Issue | Type | Severity | Reference | Current | Fix Hint | File Path | Status |
|----|-----------|---------|-------|------|----------|-----------|---------|----------|-----------|--------|

## Results Panel
**Reference:** `extraction/screenshots/desktop-fullpage/results/01-results-panel.png`
**Virtuna:** `.planning/phases/12-comparison/virtuna-screenshots/results/01-results-panel.png`

| ID | Component | Element | Issue | Type | Severity | Reference | Current | Fix Hint | File Path | Status |
|----|-----------|---------|-------|------|----------|-----------|---------|----------|-----------|--------|

## Results Insights
**Reference:** `extraction/screenshots/desktop-fullpage/results/02-results-insights.png`
**Virtuna:** `.planning/phases/12-comparison/virtuna-screenshots/results/02-results-insights.png`

| ID | Component | Element | Issue | Type | Severity | Reference | Current | Fix Hint | File Path | Status |
|----|-----------|---------|-------|------|----------|-----------|---------|----------|-----------|--------|

## Summary
- Total discrepancies: X
- Critical: X | Major: X | Minor: X
```

**ID numbering:** Continue from where Plan 02 ends. Check discrepancies/forms-selectors.md for last ID, otherwise start at D-200 (will be renumbered in consolidation).
  </action>
  <verify>
- Discrepancy file exists with all 4 sections
- All issues have sequential global IDs
- Categories and priorities assigned
  </verify>
  <done>Modals and results discrepancies documented with v0 analysis</done>
</task>

</tasks>

<verification>
- [ ] 2 modal screenshots captured in virtuna-screenshots/modals/
- [ ] 2 results screenshots captured in virtuna-screenshots/results/
- [ ] All screenshots at 1440x900 viewport
- [ ] Discrepancy report covers all 4 screen states
- [ ] All discrepancies have global IDs
- [ ] Each discrepancy categorized and prioritized
- [ ] Reference and Virtuna paths included
</verification>

<success_criteria>
1. All 4 Virtuna screenshots captured matching reference states
2. v0 analysis completed for all screenshot pairs
3. Discrepancy report documents all visual differences per component
4. Issues properly categorized (spacing/color/typography/layout/animation)
5. Issues properly prioritized (critical/major/minor)
</success_criteria>

<output>
After completion, create `.planning/phases/12-comparison/12-03-SUMMARY.md`
</output>
