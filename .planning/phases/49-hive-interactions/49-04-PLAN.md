---
phase: 49-hive-interactions
plan: 04
type: execute
wave: 4
depends_on: ["49-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Hovering a node highlights it and its connected nodes while dimming unrelated nodes, with no flickering in dense areas"
    - "Clicking a node triggers a visible glow/scale effect and shows a GlassCard info overlay positioned near the clicked node"
    - "User can zoom in/out and pan across the hive to explore dense regions"
    - "Hit detection performs at O(log n) via quadtree -- no perceptible lag when moving cursor across 1000+ nodes"
    - "Overlay dismisses via close button, clicking elsewhere, or clicking another node"
    - "Reset button appears when camera is moved and resets to default view"
    - "Pinch-to-zoom works on trackpad/mobile"
  artifacts: []
  key_links: []
---

<objective>
Visual and functional verification of all hive interaction behaviors.

Purpose: Final human verification that all 7 HINT requirements are met before marking Phase 49 and Milestone v2.1 complete.

Output: User approval or issue list for gap closure.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/49-hive-interactions/49-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Start dev server and prepare verification environment</name>
  <files></files>
  <action>
1. Ensure dev server is running: `pnpm dev`
2. Open browser to the dashboard page where HiveCanvas renders
3. Verify no console errors on page load
4. Confirm hive renders with the progressive build animation (or static if reduced motion)
  </action>
  <verify>
    - Dev server runs without errors
    - Hive renders on the dashboard
    - No console errors in browser DevTools
  </verify>
  <done>Dev server running, hive visible, no errors.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete hive interaction system:
- Hover highlighting with connected-node emphasis and dim/bright transitions
- Click selection with coral glow/scale effect and GlassCard info overlay
- Overlay auto-positioning near clicked node with edge-clamping
- Overlay dismissal via close button, clicking elsewhere, clicking another node
- Scroll wheel zoom + pinch-to-zoom (trackpad/mobile)
- Mouse drag pan with click-vs-drag discrimination
- Reset/fit button (appears when camera moved)
- Hover debounce to prevent flicker in dense node clusters
  </what-built>
  <how-to-verify>
**Open dashboard at http://localhost:3000 (or wherever hive renders).**

**HINT-01: Hover highlighting**
1. Move cursor over a tier-1 (large) node -- it should stay bright, its connected nodes should stay bright, all other nodes should dim noticeably
2. Move cursor over a tier-2 (small) node -- same behavior: this node + connected stay bright, rest dim
3. Move cursor to empty space -- all nodes return to normal opacity
4. Move cursor rapidly between adjacent tier-2 nodes in a dense cluster -- should NOT flicker (debounce smooths transitions)

**HINT-02: Click & info overlay**
5. Click a tier-1 node -- a GlassCard overlay appears near the node showing its name, tier label, and color dot
6. The clicked node should have a coral glow effect and appear slightly larger
7. Click a tier-2 node -- previous overlay dismisses, new overlay appears near the new node
8. Click the close (X) button on the overlay -- overlay dismisses, glow clears
9. Click empty canvas space -- overlay dismisses

**HINT-03: Click locks hover state**
10. Click a node -- the highlight state (connected bright, rest dim) stays locked even when moving cursor away
11. The overlay stays visible while cursor moves elsewhere
12. Dismiss overlay -- highlight state clears

**HINT-04: Zoom & pan**
13. Scroll wheel to zoom in -- hive gets larger, centered on cursor
14. Scroll wheel to zoom out -- hive gets smaller
15. Click and drag on empty space -- hive pans smoothly
16. Zoom to min (0.2x) and max (8x) -- zoom clamps correctly
17. Verify cursor: 'grab' on empty space, 'grabbing' while dragging, 'pointer' on node hover

**HINT-05: Reset button**
18. Zoom or pan the hive -- a "Reset view" button appears in the bottom-right corner
19. Click the button -- hive snaps back to default zoom=1, centered position
20. Button disappears after reset

**HINT-06: Overlay follows camera**
21. Click a node to open overlay
22. Zoom in/out -- overlay should stay positioned near its node (repositions on camera change)
23. Pan the hive -- overlay should move with its node

**HINT-07: Trackpad pinch-to-zoom (if available)**
24. Use trackpad pinch gesture -- hive should zoom in/out
25. Verify it feels smooth and responsive

**Performance check:**
26. Move cursor rapidly across the entire hive -- no perceptible lag or frame drops
27. Check DevTools Performance tab during rapid cursor movement -- should maintain ~60fps
  </how-to-verify>
  <resume-signal>Type "approved" to complete Phase 49 and Milestone v2.1, or describe any issues found.</resume-signal>
</task>

</tasks>

<verification>
All 7 HINT requirements verified by human observation:
- HINT-01: Hover highlighting with connected emphasis
- HINT-02: Click glow + info overlay
- HINT-03: Click locks hover state
- HINT-04: Zoom/pan controls (0.2x-8x range)
- HINT-05: Reset/fit button
- HINT-06: Overlay follows camera
- HINT-07: Pinch-to-zoom
</verification>

<success_criteria>
- All 7 verification checks pass
- No console errors during interaction
- Performance: 60fps maintained during rapid cursor movement
- User approves the interaction feel (snappy, responsive, no flicker)
</success_criteria>

<output>
After completion, create `.planning/phases/49-hive-interactions/49-04-SUMMARY.md`
</output>
