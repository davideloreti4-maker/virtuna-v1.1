---
phase: 42-effects-animation
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/skeleton.tsx
  - src/app/globals.css
autonomous: true

must_haves:
  truths:
    - "Skeleton component has shimmer animation (moving highlight gradient)"
    - "Skeleton respects motion-reduce:animate-none"
    - "Shimmer animation defined as @keyframes in globals.css"
  artifacts:
    - path: "src/components/ui/skeleton.tsx"
      provides: "Enhanced Skeleton with shimmer animation"
      contains: "animate-shimmer"
    - path: "src/app/globals.css"
      provides: "Shimmer keyframe animation"
      contains: "@keyframes shimmer"
  key_links:
    - from: "src/components/ui/skeleton.tsx"
      to: "src/app/globals.css"
      via: "animate-shimmer class referencing @keyframes shimmer"
      pattern: "animate-shimmer"
---

<objective>
Enhance Skeleton component with shimmer loading animation.

Purpose: Upgrade the existing Skeleton from simple pulse to a moving shimmer highlight matching premium loading states. Covers EFX-06.
Output: Enhanced skeleton.tsx with shimmer + globals.css keyframes.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/ui/skeleton.tsx
@src/components/primitives/GlassSkeleton.tsx
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add shimmer keyframes and enhance Skeleton</name>
  <files>src/app/globals.css, src/components/ui/skeleton.tsx</files>
  <action>
**Part A: Add shimmer @keyframes to globals.css** (if not already present):

Check if `@keyframes shimmer` already exists in globals.css. If not, add it near the existing animation keyframes:

```css
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}
```

Also add the Tailwind utility class mapping in the @theme section or as a utility:
```css
.animate-shimmer {
  animation: shimmer 2s ease-in-out infinite;
}
```

**Part B: Enhance ui/skeleton.tsx:**

Update the Skeleton component to use shimmer instead of pulse:

1. Replace `animate-pulse` with the shimmer approach:
   ```typescript
   function Skeleton({ className, ...props }: SkeletonProps) {
     return (
       <div
         className={cn(
           "rounded-md motion-reduce:animate-none",
           className
         )}
         style={{
           backgroundColor: "rgba(255, 255, 255, 0.05)",
           backgroundImage:
             "linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.08) 50%, transparent 100%)",
           backgroundSize: "200% 100%",
           animation: "shimmer 2s ease-in-out infinite",
         }}
         {...props}
       />
     );
   }
   ```

2. Keep the existing export structure unchanged.
3. Maintain `motion-reduce:animate-none` for accessibility (but note: inline animation style needs a check too — add a comment noting that motion-reduce is handled via the Tailwind class which sets `animation: none`).

The shimmer approach matches the existing GlassSkeleton pattern (which already uses this technique) but applies it to the simpler ui/skeleton component.
  </action>
  <verify>Run `pnpm build` — compiles without errors. Grep globals.css for `@keyframes shimmer` — present. Skeleton component uses shimmer animation instead of pulse.</verify>
  <done>Skeleton component displays moving shimmer highlight. @keyframes shimmer defined in globals.css. motion-reduce respected. EFX-06 satisfied.</done>
</task>

</tasks>

<verification>
- `pnpm build` passes
- globals.css contains `@keyframes shimmer` and `.animate-shimmer`
- ui/skeleton.tsx uses shimmer animation
- motion-reduce:animate-none still present for accessibility
</verification>

<success_criteria>
Skeleton component upgraded from pulse to shimmer animation matching premium loading patterns. EFX-06 requirement satisfied.
</success_criteria>

<output>
After completion, create `.planning/phases/42-effects-animation/42-05-SUMMARY.md`
</output>
