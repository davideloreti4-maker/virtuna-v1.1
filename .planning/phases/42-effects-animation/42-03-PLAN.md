---
phase: 42-effects-animation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/motion/fade-in.tsx
  - src/components/motion/slide-up.tsx
  - src/components/motion/fade-in-up.tsx
autonomous: true

must_haves:
  truths:
    - "FadeIn uses Raycast ease-out-cubic [0.215, 0.61, 0.355, 1] easing (already correct)"
    - "SlideUp uses Raycast ease-out-quart [0.165, 0.84, 0.44, 1] easing (already correct)"
    - "FadeInUp combines opacity 0->1 with translateY(24px)->0, duration 0.6s, ease [0.25, 0.1, 0.25, 1.0]"
    - "FadeInUp respects prefers-reduced-motion via useReducedMotion"
    - "FadeInUp triggers on viewport entry (whileInView) with once:true default"
  artifacts:
    - path: "src/components/motion/fade-in-up.tsx"
      provides: "FadeInUp combined animation component (Raycast signature)"
      exports: ["FadeInUp", "FadeInUpProps"]
    - path: "src/components/motion/fade-in.tsx"
      provides: "Enhanced FadeIn with configurable distance prop"
      exports: ["FadeIn"]
    - path: "src/components/motion/slide-up.tsx"
      provides: "Enhanced SlideUp with configurable distance prop"
      exports: ["SlideUp"]
  key_links:
    - from: "src/components/motion/fade-in-up.tsx"
      to: "motion/react"
      via: "import motion, useReducedMotion"
      pattern: "from.*motion/react"
---

<objective>
Enhance FadeIn/SlideUp and create FadeInUp combined animation.

Purpose: Add configurable distance prop to existing FadeIn/SlideUp components and create the FadeInUp combined animation that matches Raycast's signature scroll-reveal pattern (translateY + opacity). Covers EFX-01, EFX-02, EFX-03.
Output: Enhanced fade-in.tsx, slide-up.tsx, new fade-in-up.tsx.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/motion/fade-in.tsx
@src/components/motion/slide-up.tsx
@.planning/phases/42-effects-animation/42-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance FadeIn and SlideUp with distance prop</name>
  <files>src/components/motion/fade-in.tsx, src/components/motion/slide-up.tsx</files>
  <action>
**FadeIn (fade-in.tsx):**
1. Add `distance?: number` prop (default 20, matching current hardcoded `y: 20`).
2. Update the `FadeInProps` interface to include `distance`.
3. Use the `distance` prop in the variants instead of hardcoded `y: 20`:
   - `hidden: { opacity: 0, y: distance }`
4. Export the `FadeInProps` type.
5. Keep all existing behavior unchanged: useReducedMotion check, whileInView, viewport once, ease-out-cubic easing.

**SlideUp (slide-up.tsx):**
1. Add `distance?: number` prop (default 60, matching current hardcoded `y: 60`).
2. Update the `SlideUpProps` interface to include `distance`.
3. Use the `distance` prop in the variants instead of hardcoded `y: 60`:
   - `hidden: { opacity: 0, y: distance }`
4. Export the `SlideUpProps` type.
5. Keep all existing behavior unchanged.

Both enhancements are backward-compatible — default values match current behavior exactly. Do NOT change easing curves (they already match Raycast tokens).
  </action>
  <verify>Run `pnpm build` — compiles without errors. Both components still export correctly. The `distance` prop is part of the interface. Default values match previous hardcoded values.</verify>
  <done>FadeIn and SlideUp accept configurable distance prop while maintaining backward compatibility. Props types exported.</done>
</task>

<task type="auto">
  <name>Task 2: Create FadeInUp combined animation</name>
  <files>src/components/motion/fade-in-up.tsx</files>
  <action>
Create `src/components/motion/fade-in-up.tsx` following the exact pattern from existing fade-in.tsx:

1. "use client" directive.

2. Import `motion, useReducedMotion` from "motion/react" and `Variants` type.

3. Props interface `FadeInUpProps`:
   - `children: React.ReactNode`
   - `className?: string`
   - `delay?: number` — default 0
   - `duration?: number` — default 0.6 (Raycast timing)
   - `distance?: number` — default 24 (Raycast translateY offset)
   - `once?: boolean` — default true
   - `as?: React.ElementType` — default "div" (allows rendering as section, article, etc.)

4. Define variants with Raycast's signature easing:
   ```typescript
   const fadeInUpVariants = {
     hidden: { opacity: 0, y: 24 },
     visible: {
       opacity: 1,
       y: 0,
       transition: {
         duration: 0.6,
         ease: [0.25, 0.1, 0.25, 1.0], // CSS "ease" equivalent — Raycast default
       },
     },
   } as const satisfies Variants;
   ```

5. Component implementation:
   - Check `useReducedMotion()` — if true, render children in a plain div with className.
   - Otherwise render `motion.div` (or motion[as]) with:
     - `initial="hidden"`
     - `whileInView="visible"`
     - `viewport={{ once, margin: "-80px" }}` (triggers 80px before entering viewport)
     - Custom variants using the `distance`, `duration`, and `delay` props.
   - Use cn() for className merging.

6. Export both FadeInUp component and FadeInUpProps type.

7. Add JSDoc documenting this as "Raycast's signature reveal animation" with @example showing basic usage and usage with delay for manual stagger.

This is the PRIMARY animation component for section reveals across the site.
  </action>
  <verify>Run `pnpm build` — compiles without errors. The file exports FadeInUp and FadeInUpProps. The component uses whileInView with once:true, ease [0.25, 0.1, 0.25, 1.0], translateY(24px) default.</verify>
  <done>FadeInUp renders combined fade + translateY animation matching Raycast's signature scroll-reveal. Supports configurable delay, duration, distance, and element type.</done>
</task>

</tasks>

<verification>
- `pnpm build` passes
- FadeIn now accepts `distance` prop (default 20)
- SlideUp now accepts `distance` prop (default 60)
- FadeInUp exists with Raycast easing [0.25, 0.1, 0.25, 1.0]
- All three components check useReducedMotion()
- All three use whileInView with once:true
- FadeInUpProps, FadeInProps, SlideUpProps types exported
</verification>

<success_criteria>
FadeIn, SlideUp enhanced with distance prop. FadeInUp available as the Raycast signature scroll-reveal animation. EFX-01, EFX-02, EFX-03 requirements satisfied.
</success_criteria>

<output>
After completion, create `.planning/phases/42-effects-animation/42-03-SUMMARY.md`
</output>
