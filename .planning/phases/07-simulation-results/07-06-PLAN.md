---
phase: 07-simulation-results
plan: 06
type: execute
wave: 4
depends_on: ["07-05"]
files_modified:
  - various (based on comparison findings)
autonomous: false

must_haves:
  truths:
    - "Visual comparison performed against societies.io screenshots"
    - "All differences documented"
    - "Major differences fixed"
    - "Final implementation matches societies.io reference"
  artifacts:
    - path: ".planning/phases/07-simulation-results/07-06-COMPARISON.md"
      provides: "Documented comparison results"
      min_lines: 30
  key_links:
    - from: "comparison document"
      to: "fix commits"
      via: "documented issues and fixes"
      pattern: "Fixed.*Issue"
---

<objective>
Comprehensive visual comparison with societies.io using v0 MCP

Purpose: Ensure pixel-perfect match to societies.io reference
Output: Comparison document and fixes for all identified differences
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-simulation-results/07-RESEARCH.md
@.planning/phases/07-simulation-results/07-CONTEXT.md
@.planning/phases/07-simulation-results/07-05-SUMMARY.md
@.reference/app/tests/results.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Capture current implementation screenshots</name>
  <files>n/a (capture task)</files>
  <action>
    Run the development server and capture screenshots of:

    1. **Form state**: Dashboard with form floating at bottom
       - Navigate to /dashboard
       - Click "Create a new test"
       - Select TikTok Script
       - Capture the form view

    2. **Loading state**: 4-phase loading in progress
       - Enter content and submit
       - Quickly capture while loading phases are visible
       - Capture at different phase stages if possible

    3. **Results state - full panel**: Complete results view
       - Wait for loading to complete
       - Capture the full results panel
       - Scroll through and capture all sections:
         - Impact Score
         - Attention Breakdown
         - Variants Section
         - Insights Section
         - Conversation Themes

    Save screenshots to a temporary location for comparison.

    Note: If screenshot capture is difficult, proceed to Task 2 with visual inspection.
  </action>
  <verify>Have screenshots or visual access to current implementation</verify>
  <done>Current state captured for comparison</done>
</task>

<task type="auto">
  <name>Task 2: Query v0 MCP for comprehensive visual comparison</name>
  <files>n/a (analysis task)</files>
  <action>
    Use ToolSearch to find "v0" MCP tool, then perform comprehensive comparison:

    **Query v0 MCP with the following for EACH state:**

    **1. Form/Input Comparison:**
    Query v0 with:
    - "Compare our TikTok script form implementation to societies.io"
    - Reference: .reference/app/tests/_assets/tiktok-*.png
    - Current: description of our floating form
    - Check: position, padding, border radius, background, input styling

    **2. Loading States Comparison:**
    Query v0 with:
    - "Compare our loading phases implementation to societies.io"
    - Reference: .reference/app/tests/_assets/tiktok-simulation-loading.png
    - Check: phase indicators, progress bar, text styling, spacing

    **3. Results Panel Overall:**
    Query v0 with:
    - "Compare our results panel layout to societies.io"
    - Reference: .reference/app/tests/_assets/tiktok-simulation-results.png
    - Check: overall layout, section order, padding, backgrounds

    **4. Impact Score:**
    Query v0 with:
    - "Compare our impact score display to societies.io"
    - Reference: .reference/app/tests/_assets/survey-results.png
    - Check: number styling, label, color coding, info icon

    **5. Attention Breakdown:**
    Query v0 with:
    - "Compare our attention breakdown bar to societies.io"
    - Check: bar style (stacked vs separate), colors, labels, percentages

    **6. Variants Section:**
    Query v0 with:
    - "Compare our variants section to societies.io"
    - Reference: .reference/app/tests/_assets/tiktok-results-full.png
    - Check: card layout, score display, content preview, "Generate" button

    **7. Insights Section:**
    Query v0 with:
    - "Compare our insights section to societies.io"
    - Reference: .reference/app/tests/_assets/survey-results-full.png
    - Check: header styling, paragraph formatting, bullet points

    **8. Conversation Themes:**
    Query v0 with:
    - "Compare our conversation themes to societies.io"
    - Check: card layout, percentage display, quotes styling, expand/collapse

    For each comparison, document:
    - What matches well
    - What differs (with severity: minor/medium/major)
    - Specific fix recommendations
  </action>
  <verify>Have documented list of all differences found</verify>
  <done>Comprehensive comparison completed with v0 MCP</done>
</task>

<task type="auto">
  <name>Task 3: Create comparison document and fix major issues</name>
  <files>.planning/phases/07-simulation-results/07-06-COMPARISON.md, various component files</files>
  <action>
    1. Create .planning/phases/07-simulation-results/07-06-COMPARISON.md with structure:

    ```markdown
    # Phase 7 Visual Comparison Report

    **Date:** [date]
    **Compared Against:** societies.io reference screenshots

    ## Summary

    | Area | Status | Issues Found |
    |------|--------|--------------|
    | Form Position | [Match/Differs] | [count] |
    | Loading States | [Match/Differs] | [count] |
    | Results Layout | [Match/Differs] | [count] |
    | Impact Score | [Match/Differs] | [count] |
    | Attention | [Match/Differs] | [count] |
    | Variants | [Match/Differs] | [count] |
    | Insights | [Match/Differs] | [count] |
    | Themes | [Match/Differs] | [count] |

    ## Detailed Findings

    ### [Area Name]

    **Reference:** [description of societies.io]
    **Current:** [description of our implementation]

    **Differences:**
    1. [Issue] - Severity: [minor/medium/major]
       - Reference: [what societies.io shows]
       - Current: [what we have]
       - Fix: [specific CSS/code change]

    ### Fixes Applied

    | Issue | File | Change | Commit |
    |-------|------|--------|--------|
    | [issue] | [file] | [change] | [hash] |

    ## Remaining Items

    [Any issues not fixed and why]
    ```

    2. Fix all MAJOR differences identified:
       - Update component styling
       - Adjust spacing/padding
       - Fix colors if wrong
       - Adjust typography

    3. Document each fix in the comparison document.

    4. For minor differences, document but mark as "acceptable variation" or "deferred to Phase 10 QA".
  </action>
  <verify>
    Comparison document created
    Major issues fixed
    npm run build succeeds after fixes
  </verify>
  <done>Comparison documented and major issues fixed</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete simulation flow with visual comparison to societies.io:
    - Floating form at bottom of screen
    - 4-phase loading with progress indicators
    - Full results panel with Impact Score, Attention, Variants, Insights, Themes
    - Visual fixes based on v0 MCP comparison
  </what-built>
  <how-to-verify>
    1. Open http://localhost:3000/dashboard
    2. Click "Create a new test" and select "TikTok Script"
    3. Verify form floats at bottom with network visible behind
    4. Enter content and click Submit
    5. Verify 4-phase loading appears with:
       - All 4 phases listed
       - Checkmarks appearing as phases complete
       - Progress bar advancing
       - Cancel button available
    6. Wait for results, then verify:
       - Impact Score with label (e.g., "Average", "Good")
       - Attention breakdown with stacked bar
       - Variants section with Original + 2 AI variants
       - Insights section with 3-4 paragraphs
       - Conversation themes with expandable quotes
       - Share button (click to verify copy works)
    7. Click "Run another test" - should return to idle
    8. Review .planning/phases/07-simulation-results/07-06-COMPARISON.md
    9. Compare visually to societies.io reference screenshots
  </how-to-verify>
  <resume-signal>Type "approved" if simulation flow matches societies.io, or describe any remaining issues</resume-signal>
</task>

</tasks>

<verification>
- Comparison document exists at .planning/phases/07-simulation-results/07-06-COMPARISON.md
- All major visual differences identified and fixed
- Build succeeds after all changes
- User approves visual match to societies.io
</verification>

<success_criteria>
- Comprehensive v0 MCP comparison performed for all areas
- All major differences documented
- Major issues fixed with commits
- Minor issues documented for future QA
- User verifies acceptable visual match to societies.io
</success_criteria>

<output>
After completion, create `.planning/phases/07-simulation-results/07-06-SUMMARY.md`
</output>
