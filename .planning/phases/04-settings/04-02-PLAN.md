---
phase: 04-settings
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/app/settings/notifications-section.tsx
  - src/components/app/settings/team-section.tsx
  - src/components/app/settings/settings-page.tsx
autonomous: true

must_haves:
  truths:
    - "Notification preferences toggle and persist across page reloads (via localStorage)"
    - "Team management section shows a clear 'coming soon' state — not a fully functional mock"
    - "Settings UI uses brand bible tokens (6% borders, correct bg, proper button styling, card patterns)"
    - "All settings tabs render without layout jumps or broken states"
  artifacts:
    - path: "src/components/app/settings/notifications-section.tsx"
      provides: "Notification toggles with verified localStorage persistence"
      contains: "Switch"
    - path: "src/components/app/settings/team-section.tsx"
      provides: "Coming soon placeholder for team management"
      contains: "coming soon"
    - path: "src/components/app/settings/settings-page.tsx"
      provides: "Settings page with brand-aligned tab styling"
      contains: "border-white"
  key_links:
    - from: "src/components/app/settings/notifications-section.tsx"
      to: "settings-store"
      via: "useSettingsStore for notification state + persistence"
      pattern: "useSettingsStore.*notifications"
    - from: "src/components/app/settings/settings-page.tsx"
      to: "brand tokens"
      via: "Tailwind classes matching brand bible"
      pattern: "border-white/\\[0\\.06\\]|bg-white/\\[0\\.02\\]"
---

<objective>
Polish notifications persistence, replace team section with coming-soon state, and align all settings UI to brand bible.

Purpose: Notifications already use Zustand store but need verified persistence. Team section currently has a fully functional mock (invite, roles, remove) which is misleading — it should clearly indicate "coming soon". UI across all tabs uses hardcoded zinc-800/zinc-900 instead of brand tokens.

Output: Notifications persist reliably, team shows coming-soon, UI matches brand bible patterns.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/app/settings/notifications-section.tsx
@src/components/app/settings/team-section.tsx
@src/components/app/settings/settings-page.tsx
@src/components/app/settings/profile-section.tsx
@src/components/app/settings/account-section.tsx
@BRAND-BIBLE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify notification persistence and replace team section with coming-soon</name>
  <files>
    src/components/app/settings/notifications-section.tsx
    src/components/app/settings/team-section.tsx
  </files>
  <action>
**Notifications (notifications-section.tsx):**
The notification toggles already use `useSettingsStore` which persists to localStorage. Verify this works correctly:
1. Confirm `updateNotifications` in settings-store.ts calls `saveToStorage` (it does)
2. Confirm `_hydrate` loads notifications from localStorage (it does)
3. The notification section is already functional. Only change needed: update switch styling from `bg-emerald-600` to use coral accent for consistency with brand. Change `data-[state=checked]:bg-emerald-600` to `data-[state=checked]:bg-accent` on the Switch.Root
4. Keep all 4 notification options as-is — they're well-named for a creator platform

**Team section (team-section.tsx):**
Replace the entire mock team management UI with a clear "coming soon" placeholder:
1. Remove all team management logic (invite, role change, remove member, team list)
2. Remove imports for DropdownMenu, Avatar, UserPlus, Mail, Crown, Shield, User, Input
3. Remove TeamMemberRow component and ROLE_BADGES
4. Replace with a simple coming-soon card:
   - Use the `Users` icon from lucide-react (already available from settings-page.tsx imports)
   - Centered layout: icon (48px, text-foreground-muted), heading "Team Management", description "Collaborate with your team — invite members, assign roles, and manage permissions. Coming soon.", and a subtle border card
   - Use `border-dashed border-white/[0.06]` for the card border to indicate placeholder state
   - Optional: "Get notified" button that's a no-op (console.log) — or just leave as text
5. Keep the component export name `TeamSection` unchanged
  </action>
  <verify>
    - Open /settings?tab=notifications — toggle a switch, reload page — state persists
    - Switches use coral/accent color when checked (not emerald)
    - Open /settings?tab=team — see coming-soon placeholder, not the old mock team UI
    - No console errors, no broken imports
  </verify>
  <done>Notification toggles persist via localStorage with brand-colored switches, team section is a clear coming-soon placeholder</done>
</task>

<task type="auto">
  <name>Task 2: Align all settings UI to brand bible tokens</name>
  <files>
    src/components/app/settings/settings-page.tsx
    src/components/app/settings/profile-section.tsx
    src/components/app/settings/account-section.tsx
    src/components/app/settings/notifications-section.tsx
  </files>
  <action>
Audit and update all settings components to use correct brand bible tokens instead of hardcoded zinc colors:

**settings-page.tsx (tab navigation):**
1. Tab trigger idle state: change `text-zinc-400` to `text-foreground-muted`, `hover:bg-zinc-800/50` to `hover:bg-white/[0.05]`, `hover:text-zinc-300` to `hover:text-foreground-secondary`
2. Tab trigger active state: change `data-[state=active]:bg-zinc-800` to `data-[state=active]:bg-white/[0.06]`, `data-[state=active]:text-white` to `data-[state=active]:text-foreground`
3. Section heading: `text-white` to `text-foreground` (already correct semantic, but ensure consistency)
4. Loading spinner: change `border-zinc-700` to `border-white/[0.06]`, `border-t-white` to `border-t-foreground`

**profile-section.tsx:**
1. Section description: `text-zinc-400` to `text-foreground-muted`
2. Avatar fallback bg: `bg-zinc-800` to `bg-white/[0.06]`, `text-zinc-400` to `text-foreground-muted`
3. "Change avatar" button: `border-zinc-700 bg-zinc-800 text-white hover:bg-zinc-700` to `border-white/[0.06] bg-transparent text-foreground hover:bg-white/[0.05]` (secondary button pattern from brand bible)
4. Avatar helper text: `text-zinc-500` to `text-foreground-muted`
5. Label text: `text-zinc-300` to `text-foreground-secondary`
6. Save button: `bg-white text-zinc-900 hover:bg-zinc-200` — this is fine for primary button pattern, keep as-is
7. Success message: `text-emerald-400` to `text-success`

**account-section.tsx:**
1. Card sections: `border-zinc-800 bg-zinc-900/50` to `border-white/[0.06] bg-white/[0.02]` (brand card pattern)
2. Section headings: `text-white` to `text-foreground`
3. Description text: `text-zinc-400` to `text-foreground-muted`
4. Label text: `text-zinc-400` to `text-foreground-muted`
5. "Change email" button: same secondary button pattern as profile avatar button
6. "Update password" button: keep white primary button pattern
7. Danger zone: `border-red-900/50 bg-red-950/20` to `border-error/30 bg-error/5` (use error token), `text-red-400` to `text-error`
8. Delete button: `border-red-700 bg-red-900/30 text-red-400 hover:bg-red-900/50` to `border-error/50 bg-error/10 text-error hover:bg-error/20`

**notifications-section.tsx:**
1. Notification item card: `border-zinc-800 bg-zinc-900/50` to `border-white/[0.06] bg-white/[0.02]`
2. Label text: `text-white` to `text-foreground`
3. Description: `text-zinc-400` to `text-foreground-muted`
4. Sub-heading: `text-zinc-300` to `text-foreground-secondary`
5. Footer text: `text-zinc-500` to `text-foreground-muted`
6. Switch track: `bg-zinc-700` to `bg-white/[0.1]`

**Global pattern notes:**
- Cards: `border-white/[0.06] bg-white/[0.02]` with `rounded-xl` (12px)
- Secondary buttons: `border-white/[0.06] bg-transparent hover:bg-white/[0.05]` with `rounded-lg` (8px)
- Text hierarchy: `text-foreground` > `text-foreground-secondary` > `text-foreground-muted`
- No zinc-XXX hardcoded colors should remain in settings components
  </action>
  <verify>
    - Visual scan of all 5 settings tabs — borders should be subtle 6% white, not zinc-800
    - Cards have transparent/2% background, not zinc-900/50
    - Text uses semantic tokens (foreground, foreground-muted, foreground-secondary)
    - Buttons follow brand bible primary/secondary patterns
    - Danger zone uses error tokens, not hardcoded red
    - No zinc-XXX classes remain in settings components (grep check)
    - `pnpm build` or `npx tsc --noEmit` passes without errors
  </verify>
  <done>All settings components use brand bible tokens — no hardcoded zinc colors, cards use 6% borders and 2% backgrounds, buttons follow primary/secondary patterns, text uses semantic hierarchy</done>
</task>

</tasks>

<verification>
1. Notifications: toggle preferences, reload — state persists, switches use accent color
2. Team tab: shows coming-soon placeholder instead of mock team management
3. All tabs: visual consistency with brand bible tokens (6% borders, semantic text colors, proper card styling)
4. No hardcoded zinc-XXX colors remain in any settings component
5. Build passes: `pnpm build` or `npx tsc --noEmit`
</verification>

<success_criteria>
- Notification preferences persist in localStorage across page reloads
- Team section clearly communicates "coming soon" without misleading functional mock
- Zero hardcoded zinc colors in settings components — all using brand tokens
- Settings page visually consistent with rest of app (brand bible compliant)
</success_criteria>

<output>
After completion, create `.planning/phases/04-settings/04-02-SUMMARY.md`
</output>
