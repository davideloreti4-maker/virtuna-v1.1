---
phase: 10-final-qa
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/app/sidebar.tsx
  - src/components/app/network-visualization.tsx
  - src/components/app/context-bar.tsx
  - src/components/app/society-selector.tsx
  - src/components/app/view-selector.tsx
  - src/components/app/filter-pills.tsx
  - src/components/app/legend-pills.tsx
  - .planning/phases/10-final-qa/discrepancies/dashboard-shell.md
autonomous: false

must_haves:
  truths:
    - "App dashboard sidebar matches societies.io at 1440px"
    - "Network visualization canvas matches societies.io styling"
    - "Context bar matches societies.io positioning and content"
    - "Society selector modal matches societies.io layout"
    - "View selector dropdown matches societies.io styling"
  artifacts:
    - path: ".planning/phases/10-final-qa/discrepancies/dashboard-shell.md"
      provides: "Documented discrepancies and fixes"
  key_links:
    - from: "src/components/app/sidebar.tsx"
      to: "societies.io reference"
      via: "visual comparison"
---

<objective>
Perform pixel-perfect visual QA on the app dashboard shell components at 1440px desktop viewport.

Purpose: Ensure the app dashboard core structure (sidebar, network visualization, context bar, selectors) matches societies.io reference exactly.

Output: Either verified match or documented discrepancies with fixes applied.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-final-qa/10-CONTEXT.md
@.planning/phases/10-final-qa/10-RESEARCH.md
@src/components/app/sidebar.tsx
@src/components/app/network-visualization.tsx
@src/components/app/context-bar.tsx
@src/components/app/society-selector.tsx
@src/components/app/view-selector.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Capture Reference and Compare Dashboard Shell</name>
  <files>.planning/phases/10-final-qa/discrepancies/dashboard-shell.md</files>
  <action>
Use v0 MCP and browser tools to perform comprehensive comparison of dashboard shell:

1. **Open societies.io dashboard at 1440px:**
   - Use Chrome DevTools Device Mode: 1440x900
   - Navigate to app dashboard (logged-in view)
   - Capture reference for sidebar, network viz, context bar

2. **Open Virtuna dashboard at same viewport:**
   - Navigate to https://virtuna-v11.vercel.app/dashboard
   - Or run locally: npm run dev, open localhost:3000/dashboard

3. **Compare each component using PerfectPixel overlay and DevTools:**
   - **Sidebar:** Width, background color, padding, typography, icon sizes, spacing between items
   - **Network Visualization:** Canvas size, dot colors, line opacity, animation speed
   - **Context Bar:** Height, background, filter pills styling, legend positioning
   - **Society Selector (open it):** Modal width, card layout, hover states, gradient background
   - **View Selector (open it):** Dropdown width, checkmark position, role colors

4. **Document discrepancies in markdown file:**
   ```markdown
   # Dashboard Shell Discrepancies

   ## Sidebar
   | Component | Property | societies.io | Virtuna | Status |
   |-----------|----------|--------------|---------|--------|
   | nav-item | font-size | 14px | ? | |

   ## Network Visualization
   ...
   ```

5. **For each discrepancy, use DevTools Computed tab to get exact values**

6. **Use v0 MCP to verify styling accuracy:**
   - Query v0 with specific component questions
   - Get recommendations for exact Tailwind classes
  </action>
  <verify>grep -c "| Status |" .planning/phases/10-final-qa/discrepancies/dashboard-shell.md shows tables exist AND document contains sections for Sidebar, Network Visualization, Context Bar, Society Selector, View Selector (all 5 components documented)</verify>
  <done>All dashboard shell components documented with expected vs actual values for sidebar, network viz, context bar, society selector, view selector</done>
</task>

<task type="auto">
  <name>Task 2: Fix Dashboard Shell Discrepancies</name>
  <files>
    src/components/app/sidebar.tsx
    src/components/app/network-visualization.tsx
    src/components/app/context-bar.tsx
    src/components/app/society-selector.tsx
    src/components/app/view-selector.tsx
    src/components/app/filter-pills.tsx
    src/components/app/legend-pills.tsx
  </files>
  <action>
For each discrepancy identified in Task 1:

1. **Update Tailwind classes to match exact values:**
   - Use exact pixel values when computed styles differ
   - Match font-size, line-height, letter-spacing precisely
   - Match colors (use DevTools eyedropper for exact hex values)
   - Match spacing (padding, margin, gap)

2. **Common fixes to look for:**
   - Sidebar width (should match societies.io exactly)
   - Nav item hover states (background color, text color)
   - Network viz dot sizes and colors
   - Context bar height and background gradient
   - Filter pills border radius and padding
   - Modal backdrop opacity and color

3. **After each fix:**
   - Verify with PerfectPixel overlay
   - Update discrepancy doc status to "Fixed"

4. **Do NOT change:**
   - Content text (mock data can differ)
   - Functionality (just styling)
  </action>
  <verify>npm run build passes, no TypeScript errors</verify>
  <done>All identified discrepancies in sidebar, network viz, context bar, selectors fixed</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Human Verification of Dashboard Shell</name>
  <what-built>Fixed dashboard shell components to match societies.io</what-built>
  <how-to-verify>
1. Open https://virtuna-v11.vercel.app/dashboard at 1440x900 viewport
2. Open societies.io dashboard side-by-side (or use PerfectPixel overlay)
3. Verify:
   - Sidebar looks identical (width, colors, spacing, icons)
   - Network visualization matches (dot sizes, colors, animation)
   - Context bar matches (height, filter pills, legend)
4. Click Society Selector - verify modal matches
5. Click View Selector - verify dropdown matches
6. Test hover states on all interactive elements
  </how-to-verify>
  <resume-signal>Type "approved" if shell matches, or describe remaining discrepancies</resume-signal>
</task>

</tasks>

<verification>
- Dashboard shell components visually match societies.io at 1440px
- No regression in functionality
- Build passes without errors
</verification>

<success_criteria>
- Sidebar width, colors, typography match societies.io
- Network visualization styling matches
- Context bar and filter pills match
- Society selector modal matches
- View selector dropdown matches
- Human verification approved
</success_criteria>

<output>
After completion, create `.planning/phases/10-final-qa/10-01-SUMMARY.md`
</output>
