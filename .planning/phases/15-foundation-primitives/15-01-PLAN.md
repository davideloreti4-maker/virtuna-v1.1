---
phase: 15-foundation-primitives
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/globals.css
autonomous: true
requirements_covered:
  - FOUND-01
  - FOUND-05
  - FOUND-06

must_haves:
  truths:
    - "Dark theme tokens define background, surfaces, text, and border colors"
    - "Gradient palette provides distinct color identities (purple, blue, pink, cyan, green, orange)"
    - "Elevation tokens define layered shadows for iOS 26 depth aesthetic"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Design tokens via Tailwind v4 @theme directive"
      contains: "--color-surface"
    - path: "src/app/globals.css"
      provides: "Gradient color palette"
      contains: "--color-gradient-purple"
    - path: "src/app/globals.css"
      provides: "Elevation shadow system"
      contains: "--shadow-elevated"
  key_links:
    - from: "src/app/globals.css"
      to: "Tailwind utilities"
      via: "@theme directive makes tokens available as utilities"
      pattern: "@theme"
---

<objective>
Establish design system tokens for the premium glassmorphism landing page redesign.

Purpose: Define the foundational CSS variables that all subsequent components will consume. This enables consistent dark theme, gradient lighting effects, and iOS 26 depth aesthetic across the entire landing page.

Output: Extended globals.css with dark theme tokens, gradient palette, and elevation shadow system.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add dark theme and gradient palette tokens</name>
  <files>src/app/globals.css</files>
  <action>
Extend the existing `@theme` block in globals.css with:

**Dark theme tokens (using oklch for perceptual uniformity):**
```css
/* Background hierarchy - near-black base */
--color-bg-base: oklch(0.13 0.02 264);        /* #0A0A0B - hero background */
--color-surface: oklch(0.18 0.02 264);        /* Elevated panels */
--color-surface-elevated: oklch(0.23 0.02 264); /* Cards, modals */

/* Text hierarchy */
--color-text-primary: oklch(0.98 0 0);        /* Primary text - near white */
--color-text-secondary: oklch(0.70 0 0);      /* Secondary/muted text */
--color-text-tertiary: oklch(0.50 0 0);       /* Disabled/placeholder */

/* Border for glass effects */
--color-border-glass: oklch(1 0 0 / 0.1);     /* 10% white border */
--color-border-glow: oklch(1 0 0 / 0.05);     /* 5% subtle glow border */
```

**Gradient palette (feature color identities):**
```css
/* Primary gradients - each feature gets unique identity */
--color-gradient-purple: oklch(0.63 0.24 300);  /* AI/Intelligence */
--color-gradient-blue: oklch(0.62 0.19 250);    /* Analytics/Data */
--color-gradient-pink: oklch(0.66 0.22 350);    /* Social/Engagement */
--color-gradient-cyan: oklch(0.72 0.15 200);    /* Speed/Performance */
--color-gradient-green: oklch(0.68 0.17 145);   /* Growth/Success */
--color-gradient-orange: oklch(0.70 0.18 50);   /* Creativity/Content */

/* Gradient glow opacities */
--glow-intensity-subtle: 0.15;
--glow-intensity-medium: 0.3;
--glow-intensity-strong: 0.5;
```

IMPORTANT: Keep ALL existing tokens intact (--color-background, --color-foreground, --color-accent, etc.). These new tokens EXTEND the existing system, they don't replace it.
  </action>
  <verify>
Run `pnpm build` to confirm Tailwind parses the new tokens without errors.
Check that utilities like `bg-bg-base`, `text-text-primary`, `text-gradient-purple` are available.
  </verify>
  <done>
New dark theme tokens and gradient palette are defined in globals.css @theme block. Build succeeds. Tokens are usable as Tailwind utilities (e.g., `bg-surface`, `text-gradient-purple`).
  </done>
</task>

<task type="auto">
  <name>Task 2: Add iOS 26 depth/elevation shadow system</name>
  <files>src/app/globals.css</files>
  <action>
Add elevation tokens to the `@theme` block for iOS 26-style layered shadows:

```css
/* Elevation shadows - iOS 26 depth aesthetic */
/* Uses layered shadows for realistic depth */
--shadow-sm: 0 1px 2px oklch(0 0 0 / 0.2);
--shadow-md:
  0 4px 6px oklch(0 0 0 / 0.15),
  0 2px 4px oklch(0 0 0 / 0.1);
--shadow-lg:
  0 10px 15px oklch(0 0 0 / 0.15),
  0 4px 6px oklch(0 0 0 / 0.1);
--shadow-elevated:
  0 20px 25px oklch(0 0 0 / 0.15),
  0 10px 10px oklch(0 0 0 / 0.1),
  0 0 0 1px oklch(1 0 0 / 0.05);
--shadow-float:
  0 25px 50px oklch(0 0 0 / 0.25),
  0 12px 24px oklch(0 0 0 / 0.15);

/* Glass shadow - for glassmorphism panels */
--shadow-glass:
  0 8px 32px oklch(0 0 0 / 0.2),
  inset 0 1px 0 oklch(1 0 0 / 0.1);
```

These shadows create the iOS 26 "floating" depth effect on dark backgrounds.
  </action>
  <verify>
Run `pnpm build` to confirm shadows are valid CSS.
Inspect globals.css to verify shadow tokens are inside @theme block.
  </verify>
  <done>
Elevation shadow system with 5 depth levels + glass shadow variant is defined. Shadows use layered technique for realistic iOS 26 depth. Build passes.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add glass effect base styles</name>
  <files>src/app/globals.css</files>
  <action>
Add reusable glass effect CSS classes AFTER the @theme block (not inside it):

```css
/* Glass effect base styles - Safari compatible */
.glass-base {
  background: oklch(0.18 0.02 264 / 0.6);
  border: 1px solid oklch(1 0 0 / 0.1);
}

.glass-blur-sm {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.glass-blur-md {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.glass-blur-lg {
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

/* Mobile-optimized blur (6-8px per research constraint) */
@media (max-width: 768px) {
  .glass-blur-md,
  .glass-blur-lg {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}
```

CRITICAL: Safari requires -webkit-backdrop-filter with HARDCODED values (no CSS variables). This is per research findings - Safari ignores CSS variables in -webkit- prefixed properties.
  </action>
  <verify>
Run `pnpm build` to confirm CSS is valid.
Open the site in Safari (if available) and Chrome to verify backdrop-filter renders.
  </verify>
  <done>
Glass effect base styles with Safari-compatible -webkit- prefixes are defined. Mobile blur is reduced to 8px per performance constraints. Classes .glass-base, .glass-blur-sm/md/lg are available.
  </done>
</task>

</tasks>

<verification>
1. `pnpm build` succeeds with no CSS errors
2. New tokens are inside the @theme block and generate Tailwind utilities
3. Glass effect classes are defined with dual backdrop-filter prefixes
4. Mobile media query reduces blur appropriately
</verification>

<success_criteria>
- Dark theme tokens defined: bg-base, surface, surface-elevated, text-primary/secondary/tertiary, border-glass/glow
- Gradient palette defined: gradient-purple, gradient-blue, gradient-pink, gradient-cyan, gradient-green, gradient-orange
- Elevation shadows defined: shadow-sm, shadow-md, shadow-lg, shadow-elevated, shadow-float, shadow-glass
- Glass effect classes: glass-base, glass-blur-sm/md/lg with Safari prefixes
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/15-foundation-primitives/15-01-SUMMARY.md`
</output>
