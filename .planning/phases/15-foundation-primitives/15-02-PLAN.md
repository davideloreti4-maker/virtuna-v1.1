---
phase: 15-foundation-primitives
plan: 02
type: execute
wave: 2
depends_on: ["15-01"]
files_modified:
  - src/components/primitives/GlassPanel.tsx
  - src/components/primitives/GradientGlow.tsx
  - src/components/primitives/index.ts
autonomous: true
requirements_covered:
  - FOUND-02
  - FOUND-03

must_haves:
  truths:
    - "GlassPanel renders with configurable blur and opacity"
    - "GlassPanel works correctly in Safari with -webkit- prefixes"
    - "GradientGlow creates ambient lighting effects with controllable color and intensity"
  artifacts:
    - path: "src/components/primitives/GlassPanel.tsx"
      provides: "Reusable glass panel component"
      exports: ["GlassPanel"]
      min_lines: 40
    - path: "src/components/primitives/GradientGlow.tsx"
      provides: "Ambient glow effect component"
      exports: ["GradientGlow"]
      min_lines: 35
    - path: "src/components/primitives/index.ts"
      provides: "Barrel export for primitives"
      exports: ["GlassPanel", "GradientGlow"]
  key_links:
    - from: "src/components/primitives/GlassPanel.tsx"
      to: "src/lib/utils.ts"
      via: "cn() utility import"
      pattern: "import.*cn.*from"
    - from: "src/components/primitives/GlassPanel.tsx"
      to: "src/app/globals.css"
      via: "Uses glass-blur-* classes"
      pattern: "glass-blur"
---

<objective>
Build the GlassPanel and GradientGlow primitive components that form the foundation of the glassmorphism design system.

Purpose: These zero-dependency React components encapsulate the glassmorphism and gradient lighting effects. All subsequent landing page sections will compose these primitives.

Output: Two production-ready components with TypeScript props, Safari compatibility, and proper exports.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/app/globals.css
@src/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GlassPanel component</name>
  <files>src/components/primitives/GlassPanel.tsx</files>
  <action>
Create the primitives directory and GlassPanel component:

```typescript
"use client";

import { cn } from "@/lib/utils";
import { type ReactNode, type CSSProperties } from "react";

export interface GlassPanelProps {
  children: ReactNode;
  /** Blur intensity: sm (8px), md (12px), lg (20px) */
  blur?: "sm" | "md" | "lg";
  /** Background opacity 0-1, default 0.6 */
  opacity?: number;
  /** Show border glow effect */
  borderGlow?: boolean;
  /** Additional className */
  className?: string;
  /** Custom style overrides */
  style?: CSSProperties;
  /** HTML element to render as */
  as?: "div" | "section" | "article" | "aside";
}

/**
 * GlassPanel - Glassmorphism container with configurable blur and opacity.
 *
 * Safari-compatible: Uses both backdrop-filter and -webkit-backdrop-filter.
 * Mobile-optimized: Blur is reduced on mobile per performance constraints.
 *
 * @example
 * <GlassPanel blur="md" opacity={0.7} borderGlow>
 *   <h2>Premium Content</h2>
 * </GlassPanel>
 */
export function GlassPanel({
  children,
  blur = "md",
  opacity = 0.6,
  borderGlow = false,
  className,
  style,
  as: Component = "div",
}: GlassPanelProps) {
  // Map blur prop to CSS class (uses globals.css glass-blur-* classes)
  const blurClass = {
    sm: "glass-blur-sm",
    md: "glass-blur-md",
    lg: "glass-blur-lg",
  }[blur];

  return (
    <Component
      className={cn(
        // Base glass styling
        "glass-base",
        blurClass,
        // Shadows for depth
        "shadow-glass",
        // Border glow variant
        borderGlow && "ring-1 ring-white/5",
        // Rounded corners
        "rounded-xl",
        className
      )}
      style={{
        // Dynamic opacity via inline style (CSS variable fallback)
        backgroundColor: `oklch(0.18 0.02 264 / ${opacity})`,
        ...style,
      }}
    >
      {children}
    </Component>
  );
}
```

Key implementation details:
- Uses "use client" since it has dynamic styling
- blur prop maps to glass-blur-* classes from globals.css (Safari-safe)
- opacity is applied via inline style (dynamic value)
- borderGlow adds subtle ring effect
- Polymorphic `as` prop for semantic HTML
- All styling uses the design tokens from 15-01
  </action>
  <verify>
File exists at src/components/primitives/GlassPanel.tsx.
TypeScript compiles without errors: `pnpm tsc --noEmit`
  </verify>
  <done>
GlassPanel component created with configurable blur (sm/md/lg), opacity, borderGlow options. Uses Safari-compatible glass-blur-* classes. TypeScript types exported.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create GradientGlow component</name>
  <files>src/components/primitives/GradientGlow.tsx</files>
  <action>
Create the GradientGlow component for ambient lighting effects:

```typescript
"use client";

import { cn } from "@/lib/utils";
import { type CSSProperties } from "react";

/** Available gradient colors from the palette */
export type GradientColor = "purple" | "blue" | "pink" | "cyan" | "green" | "orange";

export interface GradientGlowProps {
  /** Primary gradient color */
  color: GradientColor;
  /** Glow intensity: subtle (15%), medium (30%), strong (50%) */
  intensity?: "subtle" | "medium" | "strong";
  /** Size of the glow effect in pixels or CSS value */
  size?: number | string;
  /** Position: centered, top, bottom, or custom */
  position?: "center" | "top" | "bottom" | "top-left" | "top-right" | "bottom-left" | "bottom-right";
  /** Blur amount for the glow (default 100px) */
  blur?: number;
  /** Additional className */
  className?: string;
  /** Animate the glow (subtle pulse) */
  animate?: boolean;
}

// Map color names to oklch values from design tokens
const colorMap: Record<GradientColor, string> = {
  purple: "oklch(0.63 0.24 300)",
  blue: "oklch(0.62 0.19 250)",
  pink: "oklch(0.66 0.22 350)",
  cyan: "oklch(0.72 0.15 200)",
  green: "oklch(0.68 0.17 145)",
  orange: "oklch(0.70 0.18 50)",
};

// Map intensity to opacity values
const intensityMap: Record<string, number> = {
  subtle: 0.15,
  medium: 0.3,
  strong: 0.5,
};

// Map position to CSS positioning
const positionMap: Record<string, CSSProperties> = {
  center: { top: "50%", left: "50%", transform: "translate(-50%, -50%)" },
  top: { top: "0", left: "50%", transform: "translateX(-50%)" },
  bottom: { bottom: "0", left: "50%", transform: "translateX(-50%)" },
  "top-left": { top: "0", left: "0" },
  "top-right": { top: "0", right: "0" },
  "bottom-left": { bottom: "0", left: "0" },
  "bottom-right": { bottom: "0", right: "0" },
};

/**
 * GradientGlow - Ambient lighting effect component.
 *
 * Creates a blurred radial gradient that acts as ambient lighting behind content.
 * Used to add color identity and depth to glassmorphism designs.
 *
 * @example
 * <div className="relative">
 *   <GradientGlow color="purple" intensity="medium" position="top-right" />
 *   <GlassPanel>Content here</GlassPanel>
 * </div>
 */
export function GradientGlow({
  color,
  intensity = "medium",
  size = 400,
  position = "center",
  blur = 100,
  className,
  animate = false,
}: GradientGlowProps) {
  const colorValue = colorMap[color];
  const opacityValue = intensityMap[intensity];
  const positionStyle = positionMap[position];
  const sizeValue = typeof size === "number" ? `${size}px` : size;

  return (
    <div
      className={cn(
        "pointer-events-none absolute rounded-full",
        animate && "animate-pulse",
        className
      )}
      style={{
        width: sizeValue,
        height: sizeValue,
        background: `radial-gradient(circle, ${colorValue} 0%, transparent 70%)`,
        opacity: opacityValue,
        filter: `blur(${blur}px)`,
        ...positionStyle,
      }}
      aria-hidden="true"
    />
  );
}
```

Key implementation details:
- Purely visual (pointer-events-none, aria-hidden)
- Color uses design token values from 15-01
- intensity controls opacity (subtle/medium/strong)
- position presets for common placements
- blur creates the ambient glow effect
- Optional animate prop for subtle pulse
  </action>
  <verify>
File exists at src/components/primitives/GradientGlow.tsx.
TypeScript compiles without errors: `pnpm tsc --noEmit`
  </verify>
  <done>
GradientGlow component created with configurable color, intensity, size, position, blur. Uses gradient palette from design tokens. Purely decorative with proper aria-hidden.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create barrel export and verify build</name>
  <files>src/components/primitives/index.ts</files>
  <action>
Create the barrel export file:

```typescript
export { GlassPanel } from "./GlassPanel";
export type { GlassPanelProps } from "./GlassPanel";

export { GradientGlow } from "./GradientGlow";
export type { GradientGlowProps, GradientColor } from "./GradientGlow";
```

Then run full build verification:
1. `pnpm tsc --noEmit` - TypeScript check
2. `pnpm build` - Full Next.js build

If any imports fail (e.g., @/lib/utils path), fix the import paths.
  </action>
  <verify>
`pnpm tsc --noEmit` passes with no errors.
`pnpm build` succeeds.
Imports work: `import { GlassPanel, GradientGlow } from "@/components/primitives"`
  </verify>
  <done>
Barrel export created at src/components/primitives/index.ts. Full build passes. Components are importable from @/components/primitives.
  </done>
</task>

</tasks>

<verification>
1. Both component files exist in src/components/primitives/
2. TypeScript compilation succeeds
3. Full Next.js build passes
4. Components export correctly from barrel file
5. GlassPanel uses glass-blur-* classes (Safari-compatible)
6. GradientGlow uses design token color values
</verification>

<success_criteria>
- GlassPanel.tsx created with blur/opacity/borderGlow props
- GradientGlow.tsx created with color/intensity/position/blur props
- Barrel export index.ts exposes both components and types
- TypeScript compiles without errors
- Next.js build succeeds
- Components use design tokens from 15-01
</success_criteria>

<output>
After completion, create `.planning/phases/15-foundation-primitives/15-02-SUMMARY.md`
</output>
