---
phase: 48-hive-foundation
plan: 04
type: execute
wave: 4
depends_on: ["48-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Human has verified the hive renders correctly with all visual requirements met"
    - "Progressive build animation is smooth and visually appealing"
    - "Canvas is crisp on retina and resizes properly"
  artifacts: []
  key_links: []
---

<objective>
Visual verification of the complete hive rendering by human reviewer.

Purpose: Canvas visualizations cannot be verified by automated tests alone -- the visual quality, animation smoothness, node separation, and overall aesthetic need human eyes. This checkpoint confirms the hive meets Raycast-quality standards before Phase 49 builds interactions on top.

Output: Human-approved hive visualization.
</objective>

<execution_context>
@/Users/davideloreti/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davideloreti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/48-hive-foundation/48-CONTEXT.md
@.planning/phases/48-hive-foundation/48-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create temporary hive preview route</name>
  <files>src/app/hive-preview/page.tsx</files>
  <action>
    Create a temporary preview page at `/hive-preview` that renders the HiveCanvas with mock data.

    The page should:
    1. Import `HiveCanvas` from `@/components/hive/HiveCanvas`
    2. Import `generateMockHiveData` from `@/components/hive/hive-mock-data`
    3. Be a client component (needs useState for toggling data)
    4. Render HiveCanvas in a full-viewport container: `h-screen w-full bg-[#07080a]`
    5. Include two buttons at the top:
       - "Show Skeleton" -- sets data to null (skeleton state)
       - "Show Hive" -- sets data to mock data (triggers animation)
    6. Include a node count display showing total nodes in mock data
    7. Style buttons with basic Tailwind (or use project Button component if easy to import)

    Start dev server: `pnpm dev`
  </action>
  <verify>
    - `pnpm dev` runs and `/hive-preview` page loads
    - Both buttons work (skeleton toggle and hive toggle)
  </verify>
  <done>
    Preview route exists at `/hive-preview` showing HiveCanvas with mock data and skeleton toggle.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete hive canvas visualization with:
    - ~1300 nodes across 3 tiers (circles) + center rounded rectangle
    - Straight connection lines fading by tier
    - Progressive build animation (center -> tier-1 -> tier-2 -> tier-3)
    - Skeleton loading state (concentric rings + placeholder dots)
    - Retina rendering + responsive resize
  </what-built>
  <how-to-verify>
    1. Open http://localhost:3000/hive-preview in your browser
    2. **Hive structure:** Verify center rounded rectangle is visible, surrounded by 3 concentric tiers of circle nodes. Tier-1 nodes should be brightest/largest, tier-3 should be subtle small dots.
    3. **Node separation:** Zoom into the outer tier -- every tier-3 dot should be individually distinct (no overlapping blobs). The layout should feel "spread out and airy."
    4. **Connection lines:** Straight lines connect parent-child nodes. Lines to tier-1 are most visible, lines to tier-3 are very subtle.
    5. **Animation:** Click "Show Skeleton" then "Show Hive" to replay the progressive build. Center appears first, then tiers radiate outward. Should feel smooth (~1.5s total).
    6. **Skeleton state:** Click "Show Skeleton" -- should show faint concentric rings with placeholder dots.
    7. **Retina clarity:** On a retina display, circles and lines should have crisp edges (no blurriness).
    8. **Resize:** Drag browser window to resize -- hive should re-render to fit the new size smoothly.
    9. **Overall aesthetic:** Does it feel like it belongs in the Raycast dark UI? Clean, minimal, monochrome with subtle depth.
  </how-to-verify>
  <resume-signal>Type "approved" to proceed, or describe specific visual issues to fix (e.g., "tier-3 nodes overlap", "animation too slow", "center rect too small").</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Clean up preview route</name>
  <files>src/app/hive-preview/page.tsx</files>
  <action>
    After approval, delete the temporary preview route:
    - Remove `src/app/hive-preview/page.tsx`
    - Remove `src/app/hive-preview/` directory

    The hive component is ready for integration into the actual dashboard page (which will happen when the dashboard wires in the hive view).
  </action>
  <verify>
    - `src/app/hive-preview/` directory does not exist
    - `pnpm exec tsc --noEmit` still passes
  </verify>
  <done>
    Temporary preview route cleaned up. HiveCanvas component is production-ready for dashboard integration.
  </done>
</task>

</tasks>

<verification>
- Human has visually verified all 9 HIVE requirements
- No visual bugs remain (overlap, blurriness, animation issues)
- Preview route cleaned up
- TypeScript compiles cleanly
</verification>

<success_criteria>
- Human approves: hive renders with correct tier hierarchy, no node overlap, smooth animation, crisp retina rendering
- Skeleton state and responsive resize both verified
- Clean codebase with no leftover test routes
</success_criteria>

<output>
After completion, create `.planning/phases/48-hive-foundation/48-04-SUMMARY.md`
</output>
