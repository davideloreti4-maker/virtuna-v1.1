# Milestone v2.3.5: Design Token Alignment

**Status:** SHIPPED 2026-02-08
**Phases:** 53-55
**Total Plans:** 8

## Overview

Achieved 1:1 design alignment with Raycast.com (except coral #FF7F50 branding) by correcting all design tokens, components, reference docs, and verifying zero regressions.

## Phases

### Phase 53: Font & Color Foundation

**Goal**: All text renders in Inter with correct line-height and letter-spacing, and every color token in globals.css matches the Raycast extraction exactly.
**Depends on**: None (foundation phase)
**Plans**: 2 plans

Plans:
- [x] 53-01: Font + color token foundation (globals.css overhaul, Inter font loading, Satoshi deletion)
- [x] 53-02: Component font migration (remove font-display from 11 files, fix weights, input bg, showcase docs)

**Details:**
- Both layout files load Inter from next/font/google with --font-inter CSS variable
- All gray oklch tokens (50-300) converted to exact hex values for accurate Tailwind v4 compilation
- Card gradient corrected from 180deg to 137deg with Raycast-extracted color stops
- New --gradient-glass and --shadow-button-secondary tokens added
- Body line-height fixed from 1.15 to 1.5, letter-spacing 0.2px
- Satoshi woff2 font files and src/fonts/ directory deleted
- All font-display class references eliminated from 10 component/page files
- Non-standard font weights (font-[350], font-[450]) replaced with font-normal
- Input background fixed to bg-white/5 matching Raycast

---

### Phase 54: Card & Surface Corrections

**Goal**: Cards, header/navbar, and input components render with Raycast-accurate backgrounds, borders, shadows, and hover states.
**Depends on**: Phase 53
**Plans**: 3 plans

Plans:
- [x] 54-01: Card variants + Header glass navbar (Card, GlassCard, FeatureCard, ExtensionCard, TestimonialCard, Header)
- [x] 54-02: Input + Textarea consolidation (merge GlassInput features, create Textarea, update barrel)
- [x] 54-03: Consumer migration + deprecation re-exports + visual verification checkpoint

**Details:**
- Card and GlassCard updated with 12px radius, 6% border, hover lift+border+bg, inset shadow
- FeatureCard, ExtensionCard, TestimonialCard all corrected to 6% base / 10% hover borders
- Header converted from opaque bg to Raycast glass navbar (gradient + blur(5px) + border + inset shadow)
- New Textarea component with Raycast-exact styling and auto-resize
- All consumers migrated to ui/ imports; GlassInput/GlassTextarea as thin re-exports
- GlassCard (primitives) marked deprecated

---

### Phase 55: Glass, Documentation & Regression

**Goal**: GlassPanel uses Raycast-minimal neutral glass, all reference docs contain accurate Raycast values, and every component/page passes visual regression.
**Depends on**: Phase 54
**Plans**: 3 plans

Plans:
- [x] 55-01: GlassPanel refactor + component deletions + CSS cleanup
- [x] 55-02: BRAND-BIBLE.md rewrite + design doc updates
- [x] 55-03: Full regression audit + WCAG contrast check + visual verification

**Details:**
- GlassPanel rewritten to zero-config (4 props: children, className, style, as) with fixed Raycast glass values
- Deleted GradientGlow.tsx, GradientMesh.tsx, primitives/GlassCard.tsx (493 lines removed)
- 118 lines of orphaned CSS cleaned from globals.css
- BRAND-BIBLE.md rewritten from scratch as "Raycast Design Language" reference
- All 8 design docs updated with correct token values (13+ mismatches fixed)
- Full Playwright regression audit: 10 pages, 36+ components, zero regressions
- WCAG AA contrast verified: muted text 5.42:1, accent-foreground 7.2:1

---

## Milestone Summary

**Key Decisions:**
- Inter as sole font family (matching Raycast 1:1) -- no display font
- Hex for all gray tokens (not oklch) -- prevents Tailwind v4 compilation inaccuracy
- Cards use bg-transparent (not gradient) -- Raycast live audit confirmed
- Card hover: subtle bg-white/2% only, no translate-y, no border change
- GlassPanel zero-config: 4 props, fixed Raycast glass values baked in
- Header is floating pill with 16px radius, glass pattern
- 5 WCAG AA normal-text failures accepted (status colors, all pass large-text)

**Issues Resolved:**
- Font inconsistency (3 fonts → 1 font, Inter)
- oklch-to-hex compilation inaccuracy for dark gray tokens
- Inaccurate border opacities (8%/12% → 6%/10%)
- Glass components with colored tints, inner glow, configurable blur
- BRAND-BIBLE.md referencing iOS 26 Liquid Glass instead of Raycast

**Issues Deferred:**
- GlassCard (ui/card.tsx) keeps bg-white/5 instead of bg-transparent (functional, not pixel-perfect)
- --shadow-button-secondary token defined but not consumed
- --gradient-card-bg token not applied to Card (Card uses bg-transparent per Raycast)

**Technical Debt Incurred:**
- Card hover uses simple bg-white/2% instead of Raycast ::after radial gradient pattern (INFO severity)
- GlassCard white/5 background vs transparent (CARD-01 partial)

---

_For current project status, see .planning/ROADMAP.md_
